var fs = require('fs')
var xmlParser = require('./xmlParser')
var render = require('./render')

/**
 * @param {object} options
 * @param {string} [options.xmlFile='in.xml']
 * @param {string} [options.htmlFile='out.html']
 */
function toHtml(options) {
	options = options || {}

	var xml = fs.readFileSync(options.xmlFile || 'in.xml', {encoding: 'utf-8'})
	var data = xmlParser.parse(xml)
	var html = render.toHtml(data)

	fs.writeFile(options.htmlFile || 'out.html', html)
}

exports.toHtml = toHtml