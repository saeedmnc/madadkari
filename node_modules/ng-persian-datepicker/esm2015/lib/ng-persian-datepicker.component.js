/**
 * @fileoverview added by tsickle
 * Generated from: lib/ng-persian-datepicker.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import moment from 'moment-jalaali';
import { Component, HostListener, Input } from '@angular/core';
export class NgPersianDatepickerComponent {
    constructor() {
        this.containerInlineStyle = {};
        this.uiYearViewModel = true;
        this.uiMonthViewModel = true;
        //
        this.viewDateTitle = '';
        this.viewModes = ['day'];
        this.currentViewMode = 0;
        //
        this.years = [];
        this.months = [];
        this.days = [];
        //
        this.hour = 0;
        this.minute = 0;
        this.second = 0;
        //
        this.hourText = '';
        this.minuteText = '';
        this.secondText = '';
        this.amPmText = '';
        //
        this.fastTimeChangeTimeOut = 345;
        this.fastTimeChangeInterval = 123;
        //
        this.wasInsideClick = false;
        this.input = null;
        // date
        // tslint:disable-next-line:variable-name
        this._dateValue = '';
        this.dateValue = '';
        this.dateInitValue = true;
        this.dateIsGregorian = false;
        this.dateFormat = 'jYYYY-jMM-jDD HH:mm:ss';
        this.dateGregorianFormat = 'YYYY-MM-DD HH:mm:ss';
        this.dateMin = null;
        this.dateMax = null;
        this.dateOnInit = (/**
         * @return {?}
         */
        () => { });
        this.dateOnSelect = (/**
         * @return {?}
         */
        () => { });
        // time
        this._timeEnable = true;
        this.timeShowSecond = true;
        // tslint:disable-next-line:variable-name
        this._timeMeridian = false;
        // ui
        this.uiTheme = 'default';
        this.uiIsVisible = false;
        this.uiHideOnOutsideClick = true;
        this.uiHideAfterSelectDate = true;
        this.uiAutoPosition = false;
        this.uiPositionOffset = [0, 0];
        this.uiContainerWidth = '';
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set timeEnable(value) {
        this._timeEnable = value;
        this.setTime();
        this.seTimeText();
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set timeMeridian(value) {
        this._timeMeridian = value;
        this.seTimeText();
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set uiYearView(value) {
        this.uiYearViewModel = value;
        this.checkViewModes();
    }
    /**
     * @return {?}
     */
    get uiYearView() {
        return this.uiYearViewModel;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set uiMonthView(value) {
        this.uiMonthViewModel = value;
        this.checkViewModes();
    }
    /**
     * @return {?}
     */
    get uiMonthView() {
        return this.uiMonthViewModel;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.setId();
        moment.loadPersian({
            usePersianDigits: false,
            dialect: 'persian-modern'
        });
        this.setWeekDays();
        //
        this.setViewModes();
        //
        this.setToday();
        this.setDateInitValue();
        //
        this.setSelectedDate();
        this.setViewDate();
        //
        this.setTime();
        this.seTimeText();
        //
        this.setInputValue();
        this.lockInputValue();
        this.setShowOnInputFocus();
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        if (this.input) {
            this.input.removeEventListener('focus', this.inputEventFocusListener);
            this.input.removeEventListener('input', this.inputEventInputListener);
        }
    }
    /**
     * @return {?}
     */
    setId() {
        this.id = 'ng-persian-datepicker-' + Math.random().toString(36).substr(2, 9);
    }
    /**
     * @return {?}
     */
    setWeekDays() {
        this.weekDays = moment.weekdaysMin();
        this.weekDays.unshift(this.weekDays.pop());
    }
    /**
     * @return {?}
     */
    setViewModes() {
        this.viewModes = ['day'];
        if (this.uiMonthView) {
            this.viewModes.push('month');
        }
        if (this.uiYearView) {
            this.viewModes.push('year');
        }
        if (this.viewModes.length <= this.currentViewMode) {
            this.currentViewMode = 0;
        }
    }
    /**
     * @return {?}
     */
    checkViewModes() {
        /** @type {?} */
        let viewModesCount = 1;
        if (this.uiYearView) {
            viewModesCount++;
        }
        if (this.uiMonthView) {
            viewModesCount++;
        }
        if (viewModesCount !== this.viewModes.length) {
            this.setViewModes();
        }
    }
    /**
     * @return {?}
     */
    setToday() {
        this.today = moment();
    }
    /**
     * @return {?}
     */
    setDateInitValue() {
        if (this.dateValue || !this.dateInitValue) {
            return;
        }
        this._dateValue = this.today.valueOf();
        this.selectedDate = moment(((/** @type {?} */ (this._dateValue))));
        this.dateOnInit(String(this.selectedDate.format(this.dateFormat)), String(this.selectedDate.format(this.dateGregorianFormat)), Number(this.selectedDate.valueOf()));
    }
    /**
     * @return {?}
     */
    setSelectedDate() {
        if (!this.dateValue) {
            return;
        }
        this._dateValue = this.dateValue;
        if (typeof this._dateValue === 'string') {
            if (this.dateIsGregorian) {
                this._dateValue = moment(((/** @type {?} */ (this._dateValue))), this.dateGregorianFormat).valueOf();
            }
            else {
                this._dateValue = moment(((/** @type {?} */ (this._dateValue))), this.dateFormat).valueOf();
            }
        }
        this.selectedDate = moment(((/** @type {?} */ (this._dateValue))));
    }
    /**
     * @return {?}
     */
    setViewDate() {
        if (!this._dateValue) {
            this.viewDate = moment(this.today);
        }
        else {
            this.viewDate = moment(this.selectedDate);
        }
        this.onChangeViewDate();
    }
    /**
     * @return {?}
     */
    onChangeViewDate() {
        this.viewDate.startOf('jMonth');
        this.setYears();
        this.setMonths();
        this.setDays();
        this.setViewDateTitle();
    }
    /**
     * @return {?}
     */
    setYears() {
        this.years = [];
        /** @type {?} */
        const years = moment(this.viewDate);
        years.startOf('jYear');
        years.add(-6, 'jYear');
        for (let i = 0; i < 12; i++) {
            /** @type {?} */
            const year = [years.valueOf(), years.jYear()];
            this.years.push({
                timestamp: year[0],
                value: year[1],
                isYearOfTodayDate: this.isYearOfTodayDate(year),
                isYearOfSelectedDate: this.isYearOfSelectedDate(year),
                isYearDisabled: this.isYearDisabled(year)
            });
            years.add(1, 'jYear');
        }
    }
    /**
     * @return {?}
     */
    setMonths() {
        this.months = [];
        /** @type {?} */
        const months = moment(this.viewDate);
        months.startOf('jYear');
        for (let i = 0; i < 12; i++) {
            /** @type {?} */
            const month = [months.valueOf(), months.jYear(), months.jMonth()];
            this.months.push({
                timestamp: month[0],
                year: month[1],
                indexValue: month[2],
                isMonthOfTodayDate: this.isMonthOfToday(month),
                isMonthOfSelectedDate: this.isMonthOfSelectedDate(month),
                isMonthDisabled: this.isMonthDisabled(month)
            });
            months.add(1, 'jMonth');
        }
    }
    /**
     * @return {?}
     */
    setDays() {
        this.days = [];
        //
        /** @type {?} */
        const prevMonthDetails = [];
        /** @type {?} */
        const currentMonthDetails = [];
        /** @type {?} */
        const nextMonthDetails = [];
        //
        /** @type {?} */
        const prevMonth = moment(this.viewDate);
        /** @type {?} */
        const currentMonth = moment(this.viewDate);
        /** @type {?} */
        const nextMonth = moment(this.viewDate);
        //
        prevMonth.add(-1, 'jMonth');
        nextMonth.add(1, 'jMonth');
        //
        /** @type {?} */
        const currentMonthDays = moment.jDaysInMonth(currentMonth.jYear(), currentMonth.jMonth());
        /** @type {?} */
        const prevMonthDays = moment.jDaysInMonth(prevMonth.jYear(), prevMonth.jMonth());
        /** @type {?} */
        const nextMonthDays = moment.jDaysInMonth(nextMonth.jYear(), nextMonth.jMonth());
        //
        for (let i = 0; i < prevMonthDays; i++) {
            prevMonthDetails.push([prevMonth.valueOf(), prevMonth.jYear(), prevMonth.jMonth(), prevMonth.jDate()]);
            prevMonth.add(1, 'day');
        }
        for (let i = 0; i < currentMonthDays; i++) {
            currentMonthDetails.push([currentMonth.valueOf(), currentMonth.jYear(), currentMonth.jMonth(), currentMonth.jDate()]);
            currentMonth.add(1, 'day');
        }
        for (let i = 0; i < nextMonthDays; i++) {
            nextMonthDetails.push([nextMonth.valueOf(), nextMonth.jYear(), nextMonth.jMonth(), nextMonth.jDate()]);
            nextMonth.add(1, 'day');
        }
        //
        for (let row = 0; row < 6; row++) {
            /** @type {?} */
            const rowValue = [];
            for (let col = 0; col < 7; col++) {
                /** @type {?} */
                const fromPrevMonth = (this.viewDate.day() === 6) ? 0 : (this.viewDate.day() + 1);
                /** @type {?} */
                let index = ((row * 7) + col) - fromPrevMonth;
                /** @type {?} */
                let day = null;
                if (index < 0) {
                    index = prevMonthDetails.length - (fromPrevMonth - col);
                    day = prevMonthDetails[index];
                }
                else if (index >= currentMonthDetails.length) {
                    index = index - currentMonthDetails.length;
                    day = nextMonthDetails[index];
                }
                else {
                    day = currentMonthDetails[index];
                }
                rowValue.push({
                    timestamp: day[0],
                    year: day[1],
                    monthIndex: day[2],
                    value: day[3],
                    isDayInCurrentMonth: this.isDayInCurrentMonth(day),
                    isDayOfTodayDate: this.isDayOfTodayDate(day),
                    isDayOfSelectedDate: this.isDayOfSelectedDate(day),
                    isDayDisabled: this.isDayDisabled(day)
                });
            }
            this.days.push(rowValue);
        }
    }
    /**
     * @return {?}
     */
    setViewDateTitle() {
        /** @type {?} */
        const year = this.viewDate.jYear();
        switch (this.viewModes[this.currentViewMode]) {
            case 'day':
                this.viewDateTitle = this.viewDate.format('jMMMM') + ' ' + year.toString();
                break;
            case 'month':
                this.viewDateTitle = year.toString();
                break;
            case 'year':
                this.viewDateTitle = (year - 6).toString() + '-' + (year + 5).toString();
                break;
        }
    }
    /**
     * @return {?}
     */
    setTime() {
        var _a, _b, _c;
        if (this.selectedDate) {
            this.hour = this.selectedDate.hour();
            this.minute = this.selectedDate.minute();
            this.second = this.selectedDate.second();
            return;
        }
        this.hour = ((_a = this.today) === null || _a === void 0 ? void 0 : _a.hour()) || 0;
        this.minute = ((_b = this.today) === null || _b === void 0 ? void 0 : _b.minute()) || 0;
        this.second = ((_c = this.today) === null || _c === void 0 ? void 0 : _c.second()) || 0;
    }
    /**
     * @return {?}
     */
    seTimeText() {
        this.setHourText();
        this.setMinuteText();
        this.setSecondText();
        this.setAmPmText();
    }
    /**
     * @return {?}
     */
    setHourText() {
        /** @type {?} */
        const hour = this.hour;
        if (!this._timeMeridian) {
            this.hourText = hour.toString().padStart(2, '0');
            return;
        }
        if (hour === 0) {
            this.hourText = (12).toString().padStart(2, '0');
            return;
        }
        if (hour > 12) {
            this.hourText = (hour - 12).toString().padStart(2, '0');
            return;
        }
        this.hourText = hour.toString().padStart(2, '0');
    }
    /**
     * @return {?}
     */
    setMinuteText() {
        this.minuteText = this.minute.toString().padStart(2, '0');
    }
    /**
     * @return {?}
     */
    setSecondText() {
        this.secondText = this.second.toString().padStart(2, '0');
    }
    /**
     * @return {?}
     */
    setAmPmText() {
        if (this.hour >= 12) {
            this.amPmText = 'PM';
            return;
        }
        this.amPmText = 'AM';
    }
    /**
     * @param {?=} dispatchEvent
     * @return {?}
     */
    setInputValue(dispatchEvent = true) {
        if (!this.input) {
            return;
        }
        if (this._dateValue) {
            this.input.value = moment(((/** @type {?} */ (this._dateValue)))).format(this.dateFormat);
            if (dispatchEvent) {
                this.input.dispatchEvent(new Event('input'));
            }
        }
    }
    /**
     * @return {?}
     */
    lockInputValue() {
        if (!this.input) {
            return;
        }
        this.inputEventInputListener = (/**
         * @return {?}
         */
        () => {
            this.setInputValue(false);
        });
        this.input.addEventListener('input', this.inputEventInputListener);
    }
    /**
     * @return {?}
     */
    setShowOnInputFocus() {
        if (!this.input) {
            return;
        }
        this.input.setAttribute('data-datepicker-id', this.id);
        this.inputEventFocusListener = (/**
         * @return {?}
         */
        () => {
            this.calcInputPositionAndSize();
            this.uiIsVisible = true;
        });
        this.input.addEventListener('focus', this.inputEventFocusListener);
    }
    /**
     * @param {?} skip
     * @param {?} type
     * @return {?}
     */
    skipViewDate(skip, type) {
        if (type === 1) {
            this.viewDate.add(skip, 'jYear');
        }
        else if (type === 2) {
            this.viewDate.add(skip, 'jMonth');
        }
    }
    /**
     * @param {?=} forward
     * @return {?}
     */
    navigate(forward = true) {
        /** @type {?} */
        let skip = 1;
        if (!forward) {
            skip = skip * -1;
        }
        switch (this.viewModes[this.currentViewMode]) {
            case 'day':
                this.skipViewDate(skip, 2);
                break;
            case 'month':
                this.skipViewDate(skip, 1);
                break;
            case 'year':
                this.skipViewDate((skip * 12), 1);
                break;
        }
        this.onChangeViewDate();
    }
    /**
     * @return {?}
     */
    nextViewMode() {
        if (this.viewModes.length === 1) {
            return;
        }
        if (this.viewModes.length <= (this.currentViewMode + 1)) {
            this.currentViewMode = 0;
            this.setViewDateTitle();
            return;
        }
        this.currentViewMode++;
        this.setViewDateTitle();
    }
    /**
     * @return {?}
     */
    selectToday() {
        this.setToday();
        this.preventClose = true;
        this.changeSelectedDate(this.today);
    }
    /**
     * @param {?} year
     * @return {?}
     */
    yearClick(year) {
        if (year.isYearDisabled) {
            return;
        }
        this.viewDate = moment(year.timestamp);
        /** @type {?} */
        let viewModeIndex = this.viewModes.indexOf('month');
        if (viewModeIndex === -1) {
            viewModeIndex = this.viewModes.indexOf('day');
        }
        this.currentViewMode = viewModeIndex;
        this.onChangeViewDate();
    }
    /**
     * @param {?} month
     * @return {?}
     */
    monthClick(month) {
        if (month.isMonthDisabled) {
            return;
        }
        this.viewDate = moment(month.timestamp);
        this.currentViewMode = this.viewModes.indexOf('day');
        this.onChangeViewDate();
    }
    /**
     * @param {?} day
     * @return {?}
     */
    dayClick(day) {
        if (day.isDayDisabled) {
            return;
        }
        this.changeSelectedDate(moment(day.timestamp));
    }
    /**
     * @param {?} year
     * @return {?}
     */
    isYearOfTodayDate(year) {
        return (this.today.jYear() === year[1]);
    }
    /**
     * @param {?} year
     * @return {?}
     */
    isYearOfSelectedDate(year) {
        if (!this.selectedDate) {
            return false;
        }
        return (year[1] === this.selectedDate.jYear());
    }
    /**
     * @param {?} month
     * @return {?}
     */
    isYearDisabled(month) {
        return !this.isDateInRange(month[0], true, false);
    }
    /**
     * @param {?} month
     * @return {?}
     */
    isMonthOfToday(month) {
        return (this.today.jYear() === month[1] &&
            this.today.jMonth() === month[2]);
    }
    /**
     * @param {?} month
     * @return {?}
     */
    isMonthOfSelectedDate(month) {
        if (!this.selectedDate) {
            return false;
        }
        return (month[1] === this.selectedDate.jYear() &&
            month[2] === this.selectedDate.jMonth());
    }
    /**
     * @param {?} month
     * @return {?}
     */
    isMonthDisabled(month) {
        return !this.isDateInRange(month[0], false, true);
    }
    /**
     * @param {?} day
     * @return {?}
     */
    isDayInCurrentMonth(day) {
        return (day[1] === this.viewDate.jYear() &&
            day[2] === this.viewDate.jMonth());
    }
    /**
     * @param {?} day
     * @return {?}
     */
    isDayOfTodayDate(day) {
        return (day[1] === this.today.jYear() &&
            day[2] === this.today.jMonth() &&
            day[3] === this.today.jDate());
    }
    /**
     * @param {?} day
     * @return {?}
     */
    isDayOfSelectedDate(day) {
        if (!this.selectedDate) {
            return false;
        }
        return (day[1] === this.selectedDate.jYear() &&
            day[2] === this.selectedDate.jMonth() &&
            day[3] === this.selectedDate.jDate());
    }
    /**
     * @param {?} day
     * @return {?}
     */
    isDayDisabled(day) {
        return !this.isDateInRange(day[0], false, false);
    }
    /**
     * @param {?} date
     * @param {?} isYear
     * @param {?} isMonth
     * @return {?}
     */
    isDateInRange(date, isYear, isMonth) {
        /** @type {?} */
        const result = [];
        if (this.dateMin) {
            /** @type {?} */
            const min = moment(this.dateMin);
            if (isYear) {
                min.startOf('jYear');
            }
            if (isMonth) {
                min.startOf('jMonth');
            }
            result.push(min.valueOf() <= date);
        }
        if (this.dateMax) {
            /** @type {?} */
            const max = moment(this.dateMax);
            if (isYear) {
                max.startOf('jYear');
            }
            if (isMonth) {
                max.startOf('jMonth');
            }
            result.push(max.valueOf() >= date);
        }
        return !(result.indexOf(false) !== -1);
    }
    /**
     * @param {?} date
     * @return {?}
     */
    changeSelectedDate(date) {
        this.selectedDate = moment(date);
        this.onChangeSelectedDate();
    }
    /**
     * @return {?}
     */
    onChangeSelectedDate() {
        if (this._timeEnable) {
            this.selectedDate.hour(this.hour);
            this.selectedDate.minute(this.minute);
            this.selectedDate.second(this.second);
        }
        else {
            this.setToday();
            this.selectedDate.hour(this.today.hour());
            this.selectedDate.minute(this.today.minute());
            this.selectedDate.second(this.today.second());
        }
        this._dateValue = this.selectedDate.valueOf();
        this.setInputValue();
        if (this.uiHideAfterSelectDate && !this.preventClose) {
            this.uiIsVisible = false;
        }
        else {
            this.preventClose = false;
        }
        this.setViewDate();
        this.dateOnSelect(String(this.selectedDate.format(this.dateFormat)), String(this.selectedDate.format(this.dateGregorianFormat)), Number(this.selectedDate.valueOf()));
    }
    /**
     * @return {?}
     */
    increaseHour() {
        if ((this.hour + 1) === 24) {
            this.hour = 0;
        }
        else {
            this.hour++;
        }
        this.onTimeChange();
    }
    /**
     * @return {?}
     */
    decreaseHour() {
        if ((this.hour - 1) === -1) {
            this.hour = 23;
        }
        else {
            this.hour--;
        }
        this.onTimeChange();
    }
    /**
     * @return {?}
     */
    increaseMinute() {
        if ((this.minute + 1) === 60) {
            this.minute = 0;
        }
        else {
            this.minute++;
        }
        this.onTimeChange();
    }
    /**
     * @return {?}
     */
    decreaseMinute() {
        if ((this.minute - 1) === -1) {
            this.minute = 59;
        }
        else {
            this.minute--;
        }
        this.onTimeChange();
    }
    /**
     * @return {?}
     */
    increaseSecond() {
        if ((this.second + 1) === 60) {
            this.second = 0;
        }
        else {
            this.second++;
        }
        this.onTimeChange();
    }
    /**
     * @return {?}
     */
    decreaseSecond() {
        if ((this.second - 1) === -1) {
            this.second = 59;
        }
        else {
            this.second--;
        }
        this.onTimeChange();
    }
    /**
     * @return {?}
     */
    toggleAmPm() {
        if (this.hour < 12) {
            this.hour += 12;
        }
        else {
            this.hour -= 12;
        }
        this.onTimeChange();
    }
    /**
     * @return {?}
     */
    onTimeChange() {
        this.preventClose = true;
        this.seTimeText();
        this.changeSelectedDate(this.selectedDate);
    }
    /**
     * @return {?}
     */
    setIncreaseHourInterval() {
        this.increaseHourTimeout = setTimeout((/**
         * @return {?}
         */
        () => {
            this.increaseHourInterval = setInterval((/**
             * @return {?}
             */
            () => {
                this.increaseHour();
            }), this.fastTimeChangeInterval);
        }), this.fastTimeChangeTimeOut);
    }
    /**
     * @return {?}
     */
    clearIncreaseHourInterval() {
        clearTimeout(this.increaseHourTimeout);
        clearInterval(this.increaseHourInterval);
    }
    /**
     * @return {?}
     */
    setDecreaseHourInterval() {
        this.decreaseHourTimeout = setTimeout((/**
         * @return {?}
         */
        () => {
            this.decreaseHourInterval = setInterval((/**
             * @return {?}
             */
            () => {
                this.decreaseHour();
            }), this.fastTimeChangeInterval);
        }), this.fastTimeChangeTimeOut);
    }
    /**
     * @return {?}
     */
    clearDecreaseHourInterval() {
        clearTimeout(this.decreaseHourTimeout);
        clearInterval(this.decreaseHourInterval);
    }
    /**
     * @return {?}
     */
    setIncreaseMinuteInterval() {
        this.increaseMinuteTimeout = setTimeout((/**
         * @return {?}
         */
        () => {
            this.increaseMinuteInterval = setInterval((/**
             * @return {?}
             */
            () => {
                this.increaseMinute();
            }), this.fastTimeChangeInterval);
        }), this.fastTimeChangeTimeOut);
    }
    /**
     * @return {?}
     */
    clearIncreaseMinuteInterval() {
        clearTimeout(this.increaseMinuteTimeout);
        clearInterval(this.increaseMinuteInterval);
    }
    /**
     * @return {?}
     */
    setDecreaseMinuteInterval() {
        this.decreaseMinuteTimeout = setTimeout((/**
         * @return {?}
         */
        () => {
            this.decreaseMinuteInterval = setInterval((/**
             * @return {?}
             */
            () => {
                this.decreaseMinute();
            }), this.fastTimeChangeInterval);
        }), this.fastTimeChangeTimeOut);
    }
    /**
     * @return {?}
     */
    clearDecreaseMinuteInterval() {
        clearTimeout(this.decreaseMinuteTimeout);
        clearInterval(this.decreaseMinuteInterval);
    }
    /**
     * @return {?}
     */
    setIncreaseSecondInterval() {
        this.increaseSecondTimeout = setTimeout((/**
         * @return {?}
         */
        () => {
            this.increaseSecondInterval = setInterval((/**
             * @return {?}
             */
            () => {
                this.increaseSecond();
            }), this.fastTimeChangeInterval);
        }), this.fastTimeChangeTimeOut);
    }
    /**
     * @return {?}
     */
    clearIncreaseSecondInterval() {
        clearTimeout(this.increaseSecondTimeout);
        clearInterval(this.increaseSecondInterval);
    }
    /**
     * @return {?}
     */
    setDecreaseSecondInterval() {
        this.decreaseSecondTimeout = setTimeout((/**
         * @return {?}
         */
        () => {
            this.decreaseSecondInterval = setInterval((/**
             * @return {?}
             */
            () => {
                this.decreaseSecond();
            }), this.fastTimeChangeInterval);
        }), this.fastTimeChangeTimeOut);
    }
    /**
     * @return {?}
     */
    clearDecreaseSecondInterval() {
        clearTimeout(this.decreaseSecondTimeout);
        clearInterval(this.decreaseSecondInterval);
    }
    /**
     * @return {?}
     */
    setContainerInlineStyle() {
        if (!this.uiAutoPosition) {
            return;
        }
        /** @type {?} */
        const containerWidth = {
            width: '200px'
        };
        /** @type {?} */
        const containerPosition = {
            position: 'absolute',
            top: String(this.uiPositionOffset[0]) + 'px',
            left: String(this.uiPositionOffset[1]) + 'px',
        };
        if (this.input && this.inputPosition) {
            containerWidth.width = String(this.inputSize[0]) + 'px';
            containerPosition.top = String(this.inputPosition[0] + this.inputSize[1] + this.uiPositionOffset[0]) + 'px';
            containerPosition.left = String(this.inputPosition[1] + this.uiPositionOffset[1]) + 'px';
        }
        if (this.uiContainerWidth) {
            containerWidth.width = this.uiContainerWidth;
        }
        this.containerInlineStyle = Object.assign(containerWidth, containerPosition);
    }
    /**
     * @return {?}
     */
    calcInputPositionAndSize() {
        if (!this.input) {
            return;
        }
        this.inputPosition = [0, 0];
        /** @type {?} */
        let element = this.input;
        while (element) {
            this.inputPosition[0] += element.offsetTop || 0;
            this.inputPosition[1] += element.offsetLeft || 0;
            element = (/** @type {?} */ (element.offsetParent));
        }
        //
        this.inputSize = [0, 0];
        this.inputSize[0] = this.input.getBoundingClientRect().width;
        this.inputSize[1] = this.input.getBoundingClientRect().height;
        //
        this.setContainerInlineStyle();
    }
    /**
     * @return {?}
     */
    onInsideClick() {
        this.wasInsideClick = true;
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onOutsideClick(event) {
        /** @type {?} */
        const wasInsideClick = this.wasInsideClick;
        this.wasInsideClick = false;
        if (wasInsideClick) {
            return;
        }
        if (!this.uiHideOnOutsideClick ||
            (this.input && (event.target.getAttribute('data-datepicker-id') === this.id))) {
            return;
        }
        this.uiIsVisible = false;
    }
}
NgPersianDatepickerComponent.decorators = [
    { type: Component, args: [{
                selector: 'ng-persian-datepicker',
                template: "<div\n  class=\"datepicker-outer-container\"\n  [class.theme-default]=\"uiTheme === 'default'\"\n  [class.theme-blue]=\"uiTheme === 'blue'\"\n  [class.theme-gray]=\"uiTheme === 'gray'\"\n  [class.theme-dark]=\"uiTheme === 'dark'\"\n  [class.theme-black]=\"uiTheme === 'black'\"\n  [class.manual-position]=\"!uiAutoPosition\"\n  [class.hide]=\"!uiIsVisible\"\n  [attr.data-datepicker-id]=\"id\"\n  [ngStyle]=\"containerInlineStyle\">\n  <div\n    class=\"datepicker-inner-container\">\n\n    <!-- Start: navigation -->\n    <div\n      class=\"content-container navigation-container\">\n      <div\n        class=\"go-back dp-btn\"\n        (click)=\"navigate(false)\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 240.823 240.823\"\n          xml:space=\"preserve\">\n          <path\n            d=\"M183.189,111.816L74.892,3.555c-4.752-4.74-12.451-4.74-17.215,0c-4.752,4.74-4.752,12.439,0,17.179\n            l99.707,99.671l-99.695,99.671c-4.752,4.74-4.752,12.439,0,17.191c4.752,4.74,12.463,4.74,17.215,0l108.297-108.261\n            C187.881,124.315,187.881,116.495,183.189,111.816z\"></path>\n        </svg>\n      </div>\n      <div\n        class=\"switch-view dp-btn\"\n        (click)=\"nextViewMode()\">\n        <span>{{ viewDateTitle }}</span>\n      </div>\n      <div\n        class=\"go-forward dp-btn\"\n        (click)=\"navigate(true)\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 240.823 240.823\"\n          xml:space=\"preserve\">\n          <path\n            d=\"M57.633,129.007L165.93,237.268c4.752,4.74,12.451,4.74,17.215,0c4.752-4.74,4.752-12.439,0-17.179\n            l-99.707-99.671l99.695-99.671c4.752-4.74,4.752-12.439,0-17.191c-4.752-4.74-12.463-4.74-17.215,0L57.621,111.816\n            C52.942,116.507,52.942,124.327,57.633,129.007z\"></path>\n        </svg>\n      </div>\n    </div>\n    <!-- End: navigation -->\n\n    <!-- Start: year view mode -->\n    <div\n      *ngIf=\"viewModes[currentViewMode] === 'year'\"\n      class=\"years-container\">\n      <div\n        class=\"content-container\">\n        <div\n          class=\"year-col three-col-per-row dp-btn\"\n          [class.today]=\"year.isYearOfTodayDate\"\n          [class.selected]=\"year.isYearOfSelectedDate\"\n          [class.disabled]=\"year.isYearDisabled\"\n          (click)=\"yearClick(year)\"\n          *ngFor=\"let year of years\">\n          <span>{{ year.value }}</span>\n        </div>\n      </div>\n    </div>\n    <!-- End: year view mode -->\n\n    <!-- Start: month view mode -->\n    <div\n      *ngIf=\"viewModes[currentViewMode] === 'month'\"\n      class=\"months-container\">\n      <div\n        class=\"content-container\">\n        <div\n          class=\"month-col three-col-per-row dp-btn\"\n          [class.today]=\"month.isMonthOfTodayDate\"\n          [class.selected]=\"month.isMonthOfSelectedDate\"\n          [class.disabled]=\"month.isMonthDisabled\"\n          (click)=\"monthClick(month)\"\n          *ngFor=\"let month of months\">\n          <span>{{ month.indexValue | monthText }}</span>\n        </div>\n      </div>\n    </div>\n    <!-- End: month view mode -->\n\n    <!-- Start: day view mode -->\n    <div\n      *ngIf=\"viewModes[currentViewMode] === 'day'\"\n      class=\"days-container\">\n      <div\n        class=\"content-container week-days\">\n        <div\n          class=\"day-col\"\n          *ngFor=\"let weekDay of weekDays\">\n          <span>{{ weekDay }}</span>\n        </div>\n      </div>\n      <div\n        class=\"content-container month-days\">\n        <ng-container\n          *ngFor=\"let row of days\">\n          <div\n            class=\"day-col dp-btn\"\n            [class.other-month]=\"!day.isDayInCurrentMonth\"\n            [class.today]=\"day.isDayOfTodayDate\"\n            [class.selected]=\"day.isDayOfSelectedDate\"\n            [class.disabled]=\"day.isDayDisabled\"\n            (click)=\"dayClick(day)\"\n            *ngFor=\"let day of row\">\n            <span>{{ day.value }}</span>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n    <!-- End: day view mode -->\n\n    <!-- Start: time picker -->\n    <div\n      *ngIf=\"_timeEnable\"\n      class=\"content-container time-container\"\n      [class.include-second]=\"timeShowSecond\"\n      [class.include-12-hour]=\"_timeMeridian\">\n      <div\n        class=\"time-col hour-col the-divider\">\n        <div\n          (click)=\"increaseHour()\"\n          (mousedown)=\"setIncreaseHourInterval()\"\n          (mouseup)=\"clearIncreaseHourInterval()\"\n          (touchstart)=\"setIncreaseHourInterval()\"\n          (touchend)=\"clearIncreaseHourInterval()\"\n          (touchcancel)=\"clearIncreaseHourInterval()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 255 255\"\n            xml:space=\"preserve\">\n            <polygon\n              points=\"0,191.25 127.5,63.75 255,191.25\"></polygon>\n          </svg>\n        </div>\n        <div>\n          <span>{{ hourText }}</span>\n        </div>\n        <div\n          (click)=\"decreaseHour()\"\n          (mousedown)=\"setDecreaseHourInterval()\"\n          (mouseup)=\"clearDecreaseHourInterval()\"\n          (touchstart)=\"setDecreaseHourInterval()\"\n          (touchend)=\"clearDecreaseHourInterval()\"\n          (touchcancel)=\"clearDecreaseHourInterval()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 255 255\"\n            xml:space=\"preserve\">\n            <polygon\n              points=\"0,63.75 127.5,191.25 255,63.75\"></polygon>\n          </svg>\n        </div>\n      </div>\n      <div\n        class=\"time-col minute-col\"\n        [class.the-divider]=\"timeShowSecond\">\n        <div\n          (click)=\"increaseMinute()\"\n          (mousedown)=\"setIncreaseMinuteInterval()\"\n          (mouseup)=\"clearIncreaseMinuteInterval()\"\n          (touchstart)=\"setIncreaseMinuteInterval()\"\n          (touchend)=\"clearIncreaseMinuteInterval()\"\n          (touchcancel)=\"clearIncreaseMinuteInterval()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 255 255\"\n            xml:space=\"preserve\">\n            <polygon\n              points=\"0,191.25 127.5,63.75 255,191.25\"></polygon>\n          </svg>\n        </div>\n        <div>\n          <span>{{ minuteText }}</span>\n        </div>\n        <div\n          (click)=\"decreaseMinute()\"\n          (mousedown)=\"setDecreaseMinuteInterval()\"\n          (mouseup)=\"clearDecreaseMinuteInterval()\"\n          (touchstart)=\"setDecreaseMinuteInterval()\"\n          (touchend)=\"clearDecreaseMinuteInterval()\"\n          (touchcancel)=\"clearDecreaseMinuteInterval()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 255 255\"\n            xml:space=\"preserve\">\n            <polygon\n              points=\"0,63.75 127.5,191.25 255,63.75\"></polygon>\n          </svg>\n        </div>\n      </div>\n      <div\n        *ngIf=\"timeShowSecond\"\n        class=\"time-col second-col\">\n        <div\n          (click)=\"increaseSecond()\"\n          (mousedown)=\"setIncreaseSecondInterval()\"\n          (mouseup)=\"clearIncreaseSecondInterval()\"\n          (touchstart)=\"setIncreaseSecondInterval()\"\n          (touchend)=\"clearIncreaseSecondInterval()\"\n          (touchcancel)=\"clearIncreaseSecondInterval()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 255 255\"\n            xml:space=\"preserve\">\n            <polygon\n              points=\"0,191.25 127.5,63.75 255,191.25\"></polygon>\n          </svg>\n        </div>\n        <div>\n          <span>{{ secondText }}</span>\n        </div>\n        <div\n          (click)=\"decreaseSecond()\"\n          (mousedown)=\"setDecreaseSecondInterval()\"\n          (mouseup)=\"clearDecreaseSecondInterval()\"\n          (touchstart)=\"setDecreaseSecondInterval()\"\n          (touchend)=\"clearDecreaseSecondInterval()\"\n          (touchcancel)=\"clearDecreaseSecondInterval()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 255 255\"\n            xml:space=\"preserve\">\n            <polygon\n              points=\"0,63.75 127.5,191.25 255,63.75\"></polygon>\n          </svg>\n        </div>\n      </div>\n      <div\n        *ngIf=\"_timeMeridian\"\n        class=\"time-col time-in-12-hour-format-col\">\n        <div\n          (click)=\"toggleAmPm()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 255 255\"\n            xml:space=\"preserve\">\n            <polygon\n              points=\"0,191.25 127.5,63.75 255,191.25\"></polygon>\n          </svg>\n        </div>\n        <div>\n          <span>{{ amPmText }}</span>\n        </div>\n        <div\n          (click)=\"toggleAmPm()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 255 255\"\n            xml:space=\"preserve\">\n            <polygon\n              points=\"0,63.75 127.5,191.25 255,63.75\"></polygon>\n          </svg>\n        </div>\n      </div>\n    </div>\n    <!-- End: time picker -->\n\n    <!-- Start: toolbox -->\n    <div\n      class=\"the-toolbox\">\n      <div\n        class=\"the-item dp-btn\"\n        (click)=\"selectToday()\">\n        <span>\u0627\u0645\u0631\u0648\u0632</span>\n      </div>\n    </div>\n    <!-- End: toolbox -->\n\n  </div>\n</div>\n",
                styles: [".datepicker-outer-container.theme-default{background:#fff;border:1px solid #ccc;box-shadow:0 5px 10px rgba(0,0,0,.2);color:#333}.datepicker-outer-container.theme-default .datepicker-inner-container .navigation-container .go-back svg path,.datepicker-outer-container.theme-default .datepicker-inner-container .navigation-container .go-forward svg path{fill:#333}.datepicker-outer-container.theme-default .datepicker-inner-container .dp-btn:hover{background:#007be6!important;color:#fff!important}.datepicker-outer-container.theme-default .datepicker-inner-container .dp-btn:hover svg path{fill:#fff!important}.datepicker-outer-container.theme-default .datepicker-inner-container .dp-btn.today{background:#333;color:#fff}.datepicker-outer-container.theme-default .datepicker-inner-container .dp-btn.selected{background:#005299;color:#fff}.datepicker-outer-container.theme-default .datepicker-inner-container .dp-btn.disabled{background:#f1f1f1!important;color:#ccc!important;cursor:not-allowed!important}.datepicker-outer-container.theme-default .datepicker-inner-container .dp-btn.other-month{color:#ccc}.datepicker-outer-container.theme-default .datepicker-inner-container .time-container{background:#f9f9f9;border-top-color:#f1f1f1}.datepicker-outer-container.theme-default .datepicker-inner-container .time-container .time-col div svg polygon{fill:#ccc}.datepicker-outer-container.theme-default .datepicker-inner-container .time-container .time-col div:hover svg polygon{fill:#807f7f}.datepicker-outer-container.theme-blue{background:#1a3347;box-shadow:0 5px 10px rgba(0,0,0,.2);color:#fff}.datepicker-outer-container.theme-blue .datepicker-inner-container .navigation-container .go-back svg path,.datepicker-outer-container.theme-blue .datepicker-inner-container .navigation-container .go-forward svg path{fill:#fff}.datepicker-outer-container.theme-blue .datepicker-inner-container .dp-btn:hover{background:#0095c6!important;color:#fff!important}.datepicker-outer-container.theme-blue .datepicker-inner-container .dp-btn:hover svg path{fill:#fff!important}.datepicker-outer-container.theme-blue .datepicker-inner-container .dp-btn.today{background:#fff;color:#1a3347}.datepicker-outer-container.theme-blue .datepicker-inner-container .dp-btn.selected{background:#0085b2;color:#fff}.datepicker-outer-container.theme-blue .datepicker-inner-container .dp-btn.disabled{background:#204b6e!important;color:#00aae2!important;cursor:not-allowed!important}.datepicker-outer-container.theme-blue .datepicker-inner-container .dp-btn.other-month{color:#00aae2}.datepicker-outer-container.theme-blue .datepicker-inner-container .time-container{background:#204b6e;border-top-color:#204b6e}.datepicker-outer-container.theme-blue .datepicker-inner-container .time-container .time-col div svg polygon{fill:#ccc}.datepicker-outer-container.theme-blue .datepicker-inner-container .time-container .time-col div:hover svg polygon{fill:#807f7f}.datepicker-outer-container.theme-gray{background:#556270;box-shadow:0 5px 10px rgba(0,0,0,.2);color:#fff}.datepicker-outer-container.theme-gray .datepicker-inner-container .navigation-container .go-back svg path,.datepicker-outer-container.theme-gray .datepicker-inner-container .navigation-container .go-forward svg path{fill:#fff}.datepicker-outer-container.theme-gray .datepicker-inner-container .dp-btn:hover{background:#393939!important;color:#fff!important}.datepicker-outer-container.theme-gray .datepicker-inner-container .dp-btn:hover svg path{fill:#fff!important}.datepicker-outer-container.theme-gray .datepicker-inner-container .dp-btn.today{background:#fff;color:#556270}.datepicker-outer-container.theme-gray .datepicker-inner-container .dp-btn.selected{background:#c44d58;color:#fff}.datepicker-outer-container.theme-gray .datepicker-inner-container .dp-btn.disabled{background:#393939!important;color:#ccc!important;cursor:not-allowed!important}.datepicker-outer-container.theme-gray .datepicker-inner-container .dp-btn.other-month{color:#ccc}.datepicker-outer-container.theme-gray .datepicker-inner-container .time-container{background:#444;border-top-color:#393939}.datepicker-outer-container.theme-gray .datepicker-inner-container .time-container .time-col div svg polygon{fill:#ccc}.datepicker-outer-container.theme-gray .datepicker-inner-container .time-container .time-col div:hover svg polygon{fill:#807f7f}.datepicker-outer-container.theme-dark{background:#2d2d30;box-shadow:0 5px 10px rgba(0,0,0,.2);color:#fff}.datepicker-outer-container.theme-dark .datepicker-inner-container .navigation-container .go-back svg path,.datepicker-outer-container.theme-dark .datepicker-inner-container .navigation-container .go-forward svg path{fill:#fff}.datepicker-outer-container.theme-dark .datepicker-inner-container .dp-btn:hover{background:#393939!important;color:#fff!important}.datepicker-outer-container.theme-dark .datepicker-inner-container .dp-btn:hover svg path{fill:#fff!important}.datepicker-outer-container.theme-dark .datepicker-inner-container .dp-btn.today{background:#fff;color:#2d2d2d}.datepicker-outer-container.theme-dark .datepicker-inner-container .dp-btn.selected{background:#d68e3a;color:#fff}.datepicker-outer-container.theme-dark .datepicker-inner-container .dp-btn.disabled{background:#393939!important;color:#ccc!important;cursor:not-allowed!important}.datepicker-outer-container.theme-dark .datepicker-inner-container .dp-btn.other-month{color:#ccc}.datepicker-outer-container.theme-dark .datepicker-inner-container .time-container{background:#393939;border-top-color:#393939}.datepicker-outer-container.theme-dark .datepicker-inner-container .time-container .time-col div svg polygon{fill:#ccc}.datepicker-outer-container.theme-dark .datepicker-inner-container .time-container .time-col div:hover svg polygon{fill:#807f7f}.datepicker-outer-container.theme-black{background:#222;box-shadow:0 5px 10px rgba(0,0,0,.2);color:#fff}.datepicker-outer-container.theme-black .datepicker-inner-container .navigation-container .go-back svg path,.datepicker-outer-container.theme-black .datepicker-inner-container .navigation-container .go-forward svg path{fill:#fff}.datepicker-outer-container.theme-black .datepicker-inner-container .dp-btn:hover{background:#393939!important;color:#fff!important}.datepicker-outer-container.theme-black .datepicker-inner-container .dp-btn:hover svg path{fill:#fff!important}.datepicker-outer-container.theme-black .datepicker-inner-container .dp-btn.today{background:#fff;color:#222}.datepicker-outer-container.theme-black .datepicker-inner-container .dp-btn.selected{background:#f26161;color:#fff}.datepicker-outer-container.theme-black .datepicker-inner-container .dp-btn.disabled{background:#393939!important;color:#ccc!important;cursor:not-allowed!important}.datepicker-outer-container.theme-black .datepicker-inner-container .dp-btn.other-month{color:#ccc}.datepicker-outer-container.theme-black .datepicker-inner-container .time-container{background:#444;border-top-color:#393939}.datepicker-outer-container.theme-black .datepicker-inner-container .time-container .time-col div svg polygon{fill:#ccc}.datepicker-outer-container.theme-black .datepicker-inner-container .time-container .time-col div:hover svg polygon{fill:#807f7f}.datepicker-outer-container{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;direction:rtl;display:inline-block;font-size:12px;min-width:200px;padding:8px 3px;text-align:center;user-select:none;vertical-align:top}.datepicker-outer-container.hide{display:none}.datepicker-outer-container.manual-position{width:100%}.datepicker-outer-container .datepicker-inner-container .content-container{margin-bottom:8px}.datepicker-outer-container .datepicker-inner-container .navigation-container .go-back,.datepicker-outer-container .datepicker-inner-container .navigation-container .go-forward,.datepicker-outer-container .datepicker-inner-container .navigation-container .switch-view{cursor:pointer;display:inline-block;height:24px;vertical-align:top}.datepicker-outer-container .datepicker-inner-container .navigation-container .go-back,.datepicker-outer-container .datepicker-inner-container .navigation-container .go-forward{position:relative;width:15%}.datepicker-outer-container .datepicker-inner-container .navigation-container .go-back svg,.datepicker-outer-container .datepicker-inner-container .navigation-container .go-forward svg{height:12px;position:absolute;right:calc(50% - 6px);top:calc(50% - 6px);width:12px}.datepicker-outer-container .datepicker-inner-container .navigation-container .switch-view{font-weight:700;margin:0 2%;width:66%}.datepicker-outer-container .datepicker-inner-container .navigation-container .switch-view span{vertical-align:sub}.datepicker-outer-container .datepicker-inner-container .days-container .day-col{display:inline-block;padding:3px 0;vertical-align:top;width:14.2857142857%}.datepicker-outer-container .datepicker-inner-container .days-container .week-days .day-col{font-weight:700}.datepicker-outer-container .datepicker-inner-container .days-container .month-days .day-col{cursor:pointer}.datepicker-outer-container .datepicker-inner-container .three-col-per-row{cursor:pointer;display:inline-block;margin:1px 0;padding:9px 0;vertical-align:top;width:33.3333333333%}.datepicker-outer-container .datepicker-inner-container .time-container{border-top-style:solid;border-top-width:1px;direction:ltr;padding:5px}.datepicker-outer-container .datepicker-inner-container .time-container .time-col{cursor:pointer;display:inline-block;position:relative;vertical-align:top;width:50%}.datepicker-outer-container .datepicker-inner-container .time-container .time-col div{transition:all .1s ease}.datepicker-outer-container .datepicker-inner-container .time-container .time-col div svg{height:12px;width:12px}.datepicker-outer-container .datepicker-inner-container .time-container .time-col.the-divider:after{content:\":\";position:absolute;right:0;top:33%}.datepicker-outer-container .datepicker-inner-container .time-container.include-second .time-col{width:33.3333333333%}.datepicker-outer-container .datepicker-inner-container .time-container.include-second.include-12-hour .time-col{width:25%}.datepicker-outer-container .datepicker-inner-container .time-container.include-12-hour .time-col{width:33.3333333333%}.datepicker-outer-container .datepicker-inner-container .the-toolbox{text-align:right}.datepicker-outer-container .datepicker-inner-container .the-toolbox .the-item{cursor:pointer;display:inline-block;font-weight:700;margin-left:5px;min-width:50px;padding:3px 5px;text-align:center;vertical-align:top}.datepicker-outer-container .datepicker-inner-container .the-toolbox .the-item:last-child{margin-left:0}"]
            }] }
];
/** @nocollapse */
NgPersianDatepickerComponent.ctorParameters = () => [];
NgPersianDatepickerComponent.propDecorators = {
    input: [{ type: Input }],
    dateValue: [{ type: Input }],
    dateInitValue: [{ type: Input }],
    dateIsGregorian: [{ type: Input }],
    dateFormat: [{ type: Input }],
    dateGregorianFormat: [{ type: Input }],
    dateMin: [{ type: Input }],
    dateMax: [{ type: Input }],
    dateOnInit: [{ type: Input }],
    dateOnSelect: [{ type: Input }],
    timeEnable: [{ type: Input }],
    timeShowSecond: [{ type: Input }],
    timeMeridian: [{ type: Input }],
    uiTheme: [{ type: Input }],
    uiIsVisible: [{ type: Input }],
    uiHideOnOutsideClick: [{ type: Input }],
    uiHideAfterSelectDate: [{ type: Input }],
    uiAutoPosition: [{ type: Input }],
    uiPositionOffset: [{ type: Input }],
    uiContainerWidth: [{ type: Input }],
    uiYearView: [{ type: Input }],
    uiMonthView: [{ type: Input }],
    calcInputPositionAndSize: [{ type: HostListener, args: ['window:resize',] }],
    onInsideClick: [{ type: HostListener, args: ['click',] }],
    onOutsideClick: [{ type: HostListener, args: ['document:click', ['$event'],] }]
};
if (false) {
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.id;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.containerInlineStyle;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.weekDays;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.preventClose;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.uiYearViewModel;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.uiMonthViewModel;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.viewDateTitle;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.viewModes;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.currentViewMode;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.today;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.selectedDate;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.viewDate;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.years;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.months;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.days;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.hour;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.minute;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.second;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.hourText;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.minuteText;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.secondText;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.amPmText;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.fastTimeChangeTimeOut;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.fastTimeChangeInterval;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.increaseHourTimeout;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.increaseHourInterval;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.decreaseHourTimeout;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.decreaseHourInterval;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.increaseMinuteTimeout;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.increaseMinuteInterval;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.decreaseMinuteTimeout;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.decreaseMinuteInterval;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.increaseSecondTimeout;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.increaseSecondInterval;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.decreaseSecondTimeout;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.decreaseSecondInterval;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.wasInsideClick;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.inputEventFocusListener;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.inputEventInputListener;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.inputPosition;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype.inputSize;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.input;
    /**
     * @type {?}
     * @private
     */
    NgPersianDatepickerComponent.prototype._dateValue;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateValue;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateInitValue;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateIsGregorian;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateFormat;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateGregorianFormat;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateMin;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateMax;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateOnInit;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.dateOnSelect;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype._timeEnable;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.timeShowSecond;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype._timeMeridian;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.uiTheme;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.uiIsVisible;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.uiHideOnOutsideClick;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.uiHideAfterSelectDate;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.uiAutoPosition;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.uiPositionOffset;
    /** @type {?} */
    NgPersianDatepickerComponent.prototype.uiContainerWidth;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctcGVyc2lhbi1kYXRlcGlja2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25nLXBlcnNpYW4tZGF0ZXBpY2tlci9zcmMvbGliL25nLXBlcnNpYW4tZGF0ZXBpY2tlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLE1BQU0sTUFBTSxnQkFBZ0IsQ0FBQztBQUlwQyxPQUFPLEVBQ0wsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBR04sTUFBTSxlQUFlLENBQUM7QUFPdkIsTUFBTSxPQUFPLDRCQUE0QjtJQUV2QztRQUlBLHlCQUFvQixHQUFXLEVBQUUsQ0FBQztRQUkxQixvQkFBZSxHQUFHLElBQUksQ0FBQztRQUN2QixxQkFBZ0IsR0FBRyxJQUFJLENBQUM7O1FBRWhDLGtCQUFhLEdBQUcsRUFBRSxDQUFDO1FBQ25CLGNBQVMsR0FBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxvQkFBZSxHQUFHLENBQUMsQ0FBQzs7UUFNcEIsVUFBSyxHQUFnQixFQUFFLENBQUM7UUFDeEIsV0FBTSxHQUFpQixFQUFFLENBQUM7UUFDMUIsU0FBSSxHQUFzQixFQUFFLENBQUM7O1FBRXJCLFNBQUksR0FBRyxDQUFDLENBQUM7UUFDVCxXQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsV0FBTSxHQUFHLENBQUMsQ0FBQzs7UUFFbkIsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNkLGVBQVUsR0FBRyxFQUFFLENBQUM7UUFDaEIsZUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNoQixhQUFRLEdBQUcsRUFBRSxDQUFDOztRQUVOLDBCQUFxQixHQUFHLEdBQUcsQ0FBQztRQUM1QiwyQkFBc0IsR0FBRyxHQUFHLENBQUM7O1FBb0I3QixtQkFBYyxHQUFHLEtBQUssQ0FBQztRQU10QixVQUFLLEdBQXFCLElBQUksQ0FBQzs7O1FBR2hDLGVBQVUsR0FBb0IsRUFBRSxDQUFD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LDJEQUFpQzs7Ozs7SUFDakMsNERBQWtDOzs7OztJQUVsQyw2REFBbUM7Ozs7O0lBQ25DLDhEQUFvQzs7Ozs7SUFFcEMsNkRBQW1DOzs7OztJQUNuQyw4REFBb0M7Ozs7O0lBRXBDLDZEQUFtQzs7Ozs7SUFDbkMsOERBQW9DOzs7OztJQUVwQyw2REFBbUM7Ozs7O0lBQ25DLDhEQUFvQzs7Ozs7SUFFcEMsc0RBQStCOzs7OztJQUMvQiwrREFBcUM7Ozs7O0lBQ3JDLCtEQUFxQzs7Ozs7SUFFckMscURBQXFDOzs7OztJQUNyQyxpREFBaUM7O0lBQ2pDLDZDQUF3Qzs7Ozs7SUFHeEMsa0RBQXlDOztJQUN6QyxpREFBeUM7O0lBQ3pDLHFEQUE4Qjs7SUFDOUIsdURBQWlDOztJQUNqQyxrREFBK0M7O0lBQy9DLDJEQUFxRDs7SUFDckQsK0NBQWdDOztJQUNoQywrQ0FBZ0M7O0lBQ2hDLGtEQUF1Rzs7SUFDdkcsb0RBQXlHOztJQUV6RyxtREFBbUI7O0lBT25CLHNEQUErQjs7SUFFL0IscURBQXNCOztJQU90QiwrQ0FBNkI7O0lBQzdCLG1EQUE2Qjs7SUFDN0IsNERBQXFDOztJQUNyQyw2REFBc0M7O0lBQ3RDLHNEQUFnQzs7SUFDaEMsd0RBQWtEOztJQUNsRCx3REFBK0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC1qYWxhYWxpJztcbmltcG9ydCB7IFllYXJNb2RlbCB9IGZyb20gJy4vbW9kZWwveWVhci5tb2RlbCc7XG5pbXBvcnQgeyBNb250aE1vZGVsIH0gZnJvbSAnLi9tb2RlbC9tb250aC5tb2RlbCc7XG5pbXBvcnQgeyBEYXlNb2RlbCB9IGZyb20gJy4vbW9kZWwvZGF5Lm1vZGVsJztcbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgSG9zdExpc3RlbmVyLFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPbkluaXRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25nLXBlcnNpYW4tZGF0ZXBpY2tlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9uZy1wZXJzaWFuLWRhdGVwaWNrZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9uZy1wZXJzaWFuLWRhdGVwaWNrZXIuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBOZ1BlcnNpYW5EYXRlcGlja2VyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuXG4gIGNvbnN0cnVjdG9yKFxuICApIHt9XG5cbiAgaWQ6IHN0cmluZztcbiAgY29udGFpbmVySW5saW5lU3R5bGU6IG9iamVjdCA9IHt9O1xuICB3ZWVrRGF5czogQXJyYXk8c3RyaW5nPjtcbiAgLy9cbiAgcHJpdmF0ZSBwcmV2ZW50Q2xvc2U6IGJvb2xlYW47XG4gIHByaXZhdGUgdWlZZWFyVmlld01vZGVsID0gdHJ1ZTtcbiAgcHJpdmF0ZSB1aU1vbnRoVmlld01vZGVsID0gdHJ1ZTtcbiAgLy9cbiAgdmlld0RhdGVUaXRsZSA9ICcnO1xuICB2aWV3TW9kZXM6IEFycmF5PHN0cmluZz4gPSBbJ2RheSddO1xuICBjdXJyZW50Vmlld01vZGUgPSAwO1xuICAvL1xuICBwcml2YXRlIHRvZGF5OiBtb21lbnQuTW9tZW50O1xuICBwcml2YXRlIHNlbGVjdGVkRGF0ZTogbW9tZW50Lk1vbWVudDtcbiAgcHJpdmF0ZSB2aWV3RGF0ZTogbW9tZW50Lk1vbWVudDtcbiAgLy9cbiAgeWVhcnM6IFllYXJNb2RlbFtdID0gW107XG4gIG1vbnRoczogTW9udGhNb2RlbFtdID0gW107XG4gIGRheXM6IEFycmF5PERheU1vZGVsW10+ID0gW107XG4gIC8vXG4gIHByaXZhdGUgaG91ciA9IDA7XG4gIHByaXZhdGUgbWludXRlID0gMDtcbiAgcHJpdmF0ZSBzZWNvbmQgPSAwO1xuICAvL1xuICBob3VyVGV4dCA9ICcnO1xuICBtaW51dGVUZXh0ID0gJyc7XG4gIHNlY29uZFRleHQgPSAnJztcbiAgYW1QbVRleHQgPSAnJztcbiAgLy9cbiAgcHJpdmF0ZSBmYXN0VGltZUNoYW5nZVRpbWVPdXQgPSAzNDU7XG4gIHByaXZhdGUgZmFzdFRpbWVDaGFuZ2VJbnRlcnZhbCA9IDEyMztcbiAgLy9cbiAgcHJpdmF0ZSBpbmNyZWFzZUhvdXJUaW1lb3V0OiBhbnk7XG4gIHByaXZhdGUgaW5jcmVhc2VIb3VySW50ZXJ2YWw6IGFueTtcbiAgLy9cbiAgcHJpdmF0ZSBkZWNyZWFzZUhvdXJUaW1lb3V0OiBhbnk7XG4gIHByaXZhdGUgZGVjcmVhc2VIb3VySW50ZXJ2YWw6IGFueTtcbiAgLy9cbiAgcHJpdmF0ZSBpbmNyZWFzZU1pbnV0ZVRpbWVvdXQ6IGFueTtcbiAgcHJpdmF0ZSBpbmNyZWFzZU1pbnV0ZUludGVydmFsOiBhbnk7XG4gIC8vXG4gIHByaXZhdGUgZGVjcmVhc2VNaW51dGVUaW1lb3V0OiBhbnk7XG4gIHByaXZhdGUgZGVjcmVhc2VNaW51dGVJbnRlcnZhbDogYW55O1xuICAvL1xuICBwcml2YXRlIGluY3JlYXNlU2Vjb25kVGltZW91dDogYW55O1xuICBwcml2YXRlIGluY3JlYXNlU2Vjb25kSW50ZXJ2YWw6IGFueTtcbiAgLy9cbiAgcHJpdmF0ZSBkZWNyZWFzZVNlY29uZFRpbWVvdXQ6IGFueTtcbiAgcHJpdmF0ZSBkZWNyZWFzZVNlY29uZEludGVydmFsOiBhbnk7XG4gIC8vXG4gIHByaXZhdGUgd2FzSW5zaWRlQ2xpY2sgPSBmYWxzZTtcbiAgcHJpdmF0ZSBpbnB1dEV2ZW50Rm9jdXNMaXN0ZW5lcjogYW55O1xuICBwcml2YXRlIGlucHV0RXZlbnRJbnB1dExpc3RlbmVyOiBhbnk7XG4gIC8vXG4gIHByaXZhdGUgaW5wdXRQb3NpdGlvbjogQXJyYXk8bnVtYmVyPjtcbiAgcHJpdmF0ZSBpbnB1dFNpemU6IEFycmF5PG51bWJlcj47XG4gIEBJbnB1dCgpIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gbnVsbDtcbiAgLy8gZGF0ZVxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuICBwcml2YXRlIF9kYXRlVmFsdWU6IHN0cmluZyB8IG51bWJlciA9ICcnO1xuICBASW5wdXQoKSBkYXRlVmFsdWU6IHN0cmluZyB8IG51bWJlciA9ICcnO1xuICBASW5wdXQoKSBkYXRlSW5pdFZhbHVlID0gdHJ1ZTtcbiAgQElucHV0KCkgZGF0ZUlzR3JlZ29yaWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGRhdGVGb3JtYXQgPSAnallZWVktak1NLWpERCBISDptbTpzcyc7XG4gIEBJbnB1dCgpIGRhdGVHcmVnb3JpYW5Gb3JtYXQgPSAnWVlZWS1NTS1ERCBISDptbTpzcyc7XG4gIEBJbnB1dCgpIGRhdGVNaW46IG51bWJlciA9IG51bGw7XG4gIEBJbnB1dCgpIGRhdGVNYXg6IG51bWJlciA9IG51bGw7XG4gIEBJbnB1dCgpIGRhdGVPbkluaXQ6IChzaGFtc2lEYXRlOiBzdHJpbmcsIGdyZWdvcmlhbkRhdGU6IHN0cmluZywgdGltZXN0YW1wOiBudW1iZXIpID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgQElucHV0KCkgZGF0ZU9uU2VsZWN0OiAoc2hhbXNpRGF0ZTogc3RyaW5nLCBncmVnb3JpYW5EYXRlOiBzdHJpbmcsIHRpbWVzdGFtcDogbnVtYmVyKSA9PiB2b2lkID0gKCkgPT4ge307XG4gIC8vIHRpbWVcbiAgX3RpbWVFbmFibGUgPSB0cnVlO1xuICBASW5wdXQoKVxuICBzZXQgdGltZUVuYWJsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX3RpbWVFbmFibGUgPSB2YWx1ZTtcbiAgICB0aGlzLnNldFRpbWUoKTtcbiAgICB0aGlzLnNlVGltZVRleHQoKTtcbiAgfVxuICBASW5wdXQoKSB0aW1lU2hvd1NlY29uZCA9IHRydWU7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXG4gIF90aW1lTWVyaWRpYW4gPSBmYWxzZTtcbiAgQElucHV0KClcbiAgc2V0IHRpbWVNZXJpZGlhbih2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX3RpbWVNZXJpZGlhbiA9IHZhbHVlO1xuICAgIHRoaXMuc2VUaW1lVGV4dCgpO1xuICB9XG4gIC8vIHVpXG4gIEBJbnB1dCgpIHVpVGhlbWUgPSAnZGVmYXVsdCc7XG4gIEBJbnB1dCgpIHVpSXNWaXNpYmxlID0gZmFsc2U7XG4gIEBJbnB1dCgpIHVpSGlkZU9uT3V0c2lkZUNsaWNrID0gdHJ1ZTtcbiAgQElucHV0KCkgdWlIaWRlQWZ0ZXJTZWxlY3REYXRlID0gdHJ1ZTtcbiAgQElucHV0KCkgdWlBdXRvUG9zaXRpb24gPSBmYWxzZTtcbiAgQElucHV0KCkgdWlQb3NpdGlvbk9mZnNldDogQXJyYXk8bnVtYmVyPiA9IFswLCAwXTtcbiAgQElucHV0KCkgdWlDb250YWluZXJXaWR0aCA9ICcnO1xuICBASW5wdXQoKVxuICBzZXQgdWlZZWFyVmlldyh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMudWlZZWFyVmlld01vZGVsID0gdmFsdWU7XG4gICAgdGhpcy5jaGVja1ZpZXdNb2RlcygpO1xuICB9XG4gIGdldCB1aVllYXJWaWV3KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnVpWWVhclZpZXdNb2RlbDtcbiAgfVxuICBASW5wdXQoKVxuICBzZXQgdWlNb250aFZpZXcodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnVpTW9udGhWaWV3TW9kZWwgPSB2YWx1ZTtcbiAgICB0aGlzLmNoZWNrVmlld01vZGVzKCk7XG4gIH1cbiAgZ2V0IHVpTW9udGhWaWV3KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnVpTW9udGhWaWV3TW9kZWw7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnNldElkKCk7XG4gICAgbW9tZW50LmxvYWRQZXJzaWFuKHtcbiAgICAgIHVzZVBlcnNpYW5EaWdpdHM6IGZhbHNlLFxuICAgICAgZGlhbGVjdDogJ3BlcnNpYW4tbW9kZXJuJ1xuICAgIH0pO1xuICAgIHRoaXMuc2V0V2Vla0RheXMoKTtcbiAgICAvL1xuICAgIHRoaXMuc2V0Vmlld01vZGVzKCk7XG4gICAgLy9cbiAgICB0aGlzLnNldFRvZGF5KCk7XG4gICAgdGhpcy5zZXREYXRlSW5pdFZhbHVlKCk7XG4gICAgLy9cbiAgICB0aGlzLnNldFNlbGVjdGVkRGF0ZSgpO1xuICAgIHRoaXMuc2V0Vmlld0RhdGUoKTtcbiAgICAvL1xuICAgIHRoaXMuc2V0VGltZSgpO1xuICAgIHRoaXMuc2VUaW1lVGV4dCgpO1xuICAgIC8vXG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XG4gICAgdGhpcy5sb2NrSW5wdXRWYWx1ZSgpO1xuICAgIHRoaXMuc2V0U2hvd09uSW5wdXRGb2N1cygpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgIHRoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmlucHV0RXZlbnRGb2N1c0xpc3RlbmVyKTtcbiAgICAgIHRoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmlucHV0RXZlbnRJbnB1dExpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICBzZXRJZCgpOiB2b2lkIHtcbiAgICB0aGlzLmlkID0gJ25nLXBlcnNpYW4tZGF0ZXBpY2tlci0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xuICB9XG5cbiAgc2V0V2Vla0RheXMoKTogdm9pZCB7XG4gICAgdGhpcy53ZWVrRGF5cyA9IG1vbWVudC53ZWVrZGF5c01pbigpO1xuICAgIHRoaXMud2Vla0RheXMudW5zaGlmdCh0aGlzLndlZWtEYXlzLnBvcCgpKTtcbiAgfVxuXG4gIHNldFZpZXdNb2RlcygpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXdNb2RlcyA9IFsnZGF5J107XG4gICAgaWYgKHRoaXMudWlNb250aFZpZXcpIHtcbiAgICAgIHRoaXMudmlld01vZGVzLnB1c2goJ21vbnRoJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnVpWWVhclZpZXcpIHtcbiAgICAgIHRoaXMudmlld01vZGVzLnB1c2goJ3llYXInKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmlld01vZGVzLmxlbmd0aCA8PSB0aGlzLmN1cnJlbnRWaWV3TW9kZSkge1xuICAgICAgdGhpcy5jdXJyZW50Vmlld01vZGUgPSAwO1xuICAgIH1cbiAgfVxuXG4gIGNoZWNrVmlld01vZGVzKCk6IHZvaWQge1xuICAgIGxldCB2aWV3TW9kZXNDb3VudCA9IDE7XG4gICAgaWYgKHRoaXMudWlZZWFyVmlldykge1xuICAgICAgdmlld01vZGVzQ291bnQrKztcbiAgICB9XG4gICAgaWYgKHRoaXMudWlNb250aFZpZXcpIHtcbiAgICAgIHZpZXdNb2Rlc0NvdW50Kys7XG4gICAgfVxuICAgIGlmICh2aWV3TW9kZXNDb3VudCAhPT0gdGhpcy52aWV3TW9kZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnNldFZpZXdNb2RlcygpO1xuICAgIH1cbiAgfVxuXG4gIHNldFRvZGF5KCk6IHZvaWQge1xuICAgIHRoaXMudG9kYXkgPSBtb21lbnQoKTtcbiAgfVxuXG4gIHNldERhdGVJbml0VmFsdWUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGF0ZVZhbHVlIHx8ICF0aGlzLmRhdGVJbml0VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZGF0ZVZhbHVlID0gdGhpcy50b2RheS52YWx1ZU9mKCk7XG4gICAgdGhpcy5zZWxlY3RlZERhdGUgPSBtb21lbnQoKHRoaXMuX2RhdGVWYWx1ZSBhcyBudW1iZXIpKTtcbiAgICB0aGlzLmRhdGVPbkluaXQoXG4gICAgICBTdHJpbmcodGhpcy5zZWxlY3RlZERhdGUuZm9ybWF0KHRoaXMuZGF0ZUZvcm1hdCkpLFxuICAgICAgU3RyaW5nKHRoaXMuc2VsZWN0ZWREYXRlLmZvcm1hdCh0aGlzLmRhdGVHcmVnb3JpYW5Gb3JtYXQpKSxcbiAgICAgIE51bWJlcih0aGlzLnNlbGVjdGVkRGF0ZS52YWx1ZU9mKCkpXG4gICAgKTtcbiAgfVxuXG4gIHNldFNlbGVjdGVkRGF0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZGF0ZVZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2RhdGVWYWx1ZSA9IHRoaXMuZGF0ZVZhbHVlO1xuICAgIGlmICh0eXBlb2YgdGhpcy5fZGF0ZVZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHRoaXMuZGF0ZUlzR3JlZ29yaWFuKSB7XG4gICAgICAgIHRoaXMuX2RhdGVWYWx1ZSA9IG1vbWVudCgodGhpcy5fZGF0ZVZhbHVlIGFzIHN0cmluZyksIHRoaXMuZGF0ZUdyZWdvcmlhbkZvcm1hdCkudmFsdWVPZigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGF0ZVZhbHVlID0gbW9tZW50KCh0aGlzLl9kYXRlVmFsdWUgYXMgc3RyaW5nKSwgdGhpcy5kYXRlRm9ybWF0KS52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gbW9tZW50KCh0aGlzLl9kYXRlVmFsdWUgYXMgbnVtYmVyKSk7XG4gIH1cblxuICBzZXRWaWV3RGF0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX2RhdGVWYWx1ZSkge1xuICAgICAgdGhpcy52aWV3RGF0ZSA9IG1vbWVudCh0aGlzLnRvZGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52aWV3RGF0ZSA9IG1vbWVudCh0aGlzLnNlbGVjdGVkRGF0ZSk7XG4gICAgfVxuICAgIHRoaXMub25DaGFuZ2VWaWV3RGF0ZSgpO1xuICB9XG5cbiAgb25DaGFuZ2VWaWV3RGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXdEYXRlLnN0YXJ0T2YoJ2pNb250aCcpO1xuICAgIHRoaXMuc2V0WWVhcnMoKTtcbiAgICB0aGlzLnNldE1vbnRocygpO1xuICAgIHRoaXMuc2V0RGF5cygpO1xuICAgIHRoaXMuc2V0Vmlld0RhdGVUaXRsZSgpO1xuICB9XG5cbiAgc2V0WWVhcnMoKTogdm9pZCB7XG4gICAgdGhpcy55ZWFycyA9IFtdO1xuICAgIGNvbnN0IHllYXJzID0gbW9tZW50KHRoaXMudmlld0RhdGUpO1xuICAgIHllYXJzLnN0YXJ0T2YoJ2pZZWFyJyk7XG4gICAgeWVhcnMuYWRkKC02LCAnalllYXInKTtcbiAgICBmb3IgKGxldCBpID0gMCA7IGkgPCAxMiA7IGkrKykge1xuICAgICAgY29uc3QgeWVhciA9IFt5ZWFycy52YWx1ZU9mKCksIHllYXJzLmpZZWFyKCldO1xuICAgICAgdGhpcy55ZWFycy5wdXNoKHtcbiAgICAgICAgdGltZXN0YW1wOiB5ZWFyWzBdLFxuICAgICAgICB2YWx1ZTogeWVhclsxXSxcbiAgICAgICAgaXNZZWFyT2ZUb2RheURhdGU6IHRoaXMuaXNZZWFyT2ZUb2RheURhdGUoeWVhciksXG4gICAgICAgIGlzWWVhck9mU2VsZWN0ZWREYXRlOiB0aGlzLmlzWWVhck9mU2VsZWN0ZWREYXRlKHllYXIpLFxuICAgICAgICBpc1llYXJEaXNhYmxlZDogdGhpcy5pc1llYXJEaXNhYmxlZCh5ZWFyKVxuICAgICAgfSk7XG4gICAgICB5ZWFycy5hZGQoMSwgJ2pZZWFyJyk7XG4gICAgfVxuICB9XG5cbiAgc2V0TW9udGhzKCk6IHZvaWQge1xuICAgIHRoaXMubW9udGhzID0gW107XG4gICAgY29uc3QgbW9udGhzID0gbW9tZW50KHRoaXMudmlld0RhdGUpO1xuICAgIG1vbnRocy5zdGFydE9mKCdqWWVhcicpO1xuICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IDEyIDsgaSsrKSB7XG4gICAgICBjb25zdCBtb250aCA9IFttb250aHMudmFsdWVPZigpLCBtb250aHMualllYXIoKSwgbW9udGhzLmpNb250aCgpXTtcbiAgICAgIHRoaXMubW9udGhzLnB1c2goe1xuICAgICAgICB0aW1lc3RhbXA6IG1vbnRoWzBdLFxuICAgICAgICB5ZWFyOiBtb250aFsxXSxcbiAgICAgICAgaW5kZXhWYWx1ZTogbW9udGhbMl0sXG4gICAgICAgIGlzTW9udGhPZlRvZGF5RGF0ZTogdGhpcy5pc01vbnRoT2ZUb2RheShtb250aCksXG4gICAgICAgIGlzTW9udGhPZlNlbGVjdGVkRGF0ZTogdGhpcy5pc01vbnRoT2ZTZWxlY3RlZERhdGUobW9udGgpLFxuICAgICAgICBpc01vbnRoRGlzYWJsZWQ6IHRoaXMuaXNNb250aERpc2FibGVkKG1vbnRoKVxuICAgICAgfSk7XG4gICAgICBtb250aHMuYWRkKDEsICdqTW9udGgnKTtcbiAgICB9XG4gIH1cblxuICBzZXREYXlzKCk6IHZvaWQge1xuICAgIHRoaXMuZGF5cyA9IFtdO1xuICAgIC8vXG4gICAgY29uc3QgcHJldk1vbnRoRGV0YWlsczogQXJyYXk8QXJyYXk8bnVtYmVyPj4gPSBbXTtcbiAgICBjb25zdCBjdXJyZW50TW9udGhEZXRhaWxzOiBBcnJheTxBcnJheTxudW1iZXI+PiA9IFtdO1xuICAgIGNvbnN0IG5leHRNb250aERldGFpbHM6IEFycmF5PEFycmF5PG51bWJlcj4+ID0gW107XG4gICAgLy9cbiAgICBjb25zdCBwcmV2TW9udGggPSBtb21lbnQodGhpcy52aWV3RGF0ZSk7XG4gICAgY29uc3QgY3VycmVudE1vbnRoID0gbW9tZW50KHRoaXMudmlld0RhdGUpO1xuICAgIGNvbnN0IG5leHRNb250aCA9IG1vbWVudCh0aGlzLnZpZXdEYXRlKTtcbiAgICAvL1xuICAgIHByZXZNb250aC5hZGQoLTEsICdqTW9udGgnKTtcbiAgICBuZXh0TW9udGguYWRkKDEsICdqTW9udGgnKTtcbiAgICAvL1xuICAgIGNvbnN0IGN1cnJlbnRNb250aERheXMgPSBtb21lbnQuakRheXNJbk1vbnRoKGN1cnJlbnRNb250aC5qWWVhcigpLCBjdXJyZW50TW9udGguak1vbnRoKCkpO1xuICAgIGNvbnN0IHByZXZNb250aERheXMgPSBtb21lbnQuakRheXNJbk1vbnRoKHByZXZNb250aC5qWWVhcigpLCBwcmV2TW9udGguak1vbnRoKCkpO1xuICAgIGNvbnN0IG5leHRNb250aERheXMgPSBtb21lbnQuakRheXNJbk1vbnRoKG5leHRNb250aC5qWWVhcigpLCBuZXh0TW9udGguak1vbnRoKCkpO1xuICAgIC8vXG4gICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgcHJldk1vbnRoRGF5cyA7IGkrKykge1xuICAgICAgcHJldk1vbnRoRGV0YWlscy5wdXNoKFtwcmV2TW9udGgudmFsdWVPZigpLCBwcmV2TW9udGgualllYXIoKSwgcHJldk1vbnRoLmpNb250aCgpLCBwcmV2TW9udGguakRhdGUoKV0pO1xuICAgICAgcHJldk1vbnRoLmFkZCgxLCAnZGF5Jyk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IGN1cnJlbnRNb250aERheXMgOyBpKyspIHtcbiAgICAgIGN1cnJlbnRNb250aERldGFpbHMucHVzaChbY3VycmVudE1vbnRoLnZhbHVlT2YoKSwgY3VycmVudE1vbnRoLmpZZWFyKCksIGN1cnJlbnRNb250aC5qTW9udGgoKSwgY3VycmVudE1vbnRoLmpEYXRlKCldKTtcbiAgICAgIGN1cnJlbnRNb250aC5hZGQoMSwgJ2RheScpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCA7IGkgPCBuZXh0TW9udGhEYXlzIDsgaSsrKSB7XG4gICAgICBuZXh0TW9udGhEZXRhaWxzLnB1c2goW25leHRNb250aC52YWx1ZU9mKCksIG5leHRNb250aC5qWWVhcigpLCBuZXh0TW9udGguak1vbnRoKCksIG5leHRNb250aC5qRGF0ZSgpXSk7XG4gICAgICBuZXh0TW9udGguYWRkKDEsICdkYXknKTtcbiAgICB9XG4gICAgLy9cbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA2IDsgcm93KyspIHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlOiBEYXlNb2RlbFtdID0gW107XG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCA3IDsgY29sKyspIHtcbiAgICAgICAgY29uc3QgZnJvbVByZXZNb250aCA9ICh0aGlzLnZpZXdEYXRlLmRheSgpID09PSA2KSA/IDAgOiAodGhpcy52aWV3RGF0ZS5kYXkoKSArIDEpO1xuICAgICAgICBsZXQgaW5kZXggPSAoKHJvdyAqIDcpICsgY29sKSAtIGZyb21QcmV2TW9udGg7XG4gICAgICAgIGxldCBkYXk6IEFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgaW5kZXggPSBwcmV2TW9udGhEZXRhaWxzLmxlbmd0aCAtIChmcm9tUHJldk1vbnRoIC0gY29sKTtcbiAgICAgICAgICBkYXkgPSBwcmV2TW9udGhEZXRhaWxzW2luZGV4XTtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA+PSBjdXJyZW50TW9udGhEZXRhaWxzLmxlbmd0aCkge1xuICAgICAgICAgIGluZGV4ID0gaW5kZXggLSBjdXJyZW50TW9udGhEZXRhaWxzLmxlbmd0aDtcbiAgICAgICAgICBkYXkgPSBuZXh0TW9udGhEZXRhaWxzW2luZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXkgPSBjdXJyZW50TW9udGhEZXRhaWxzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByb3dWYWx1ZS5wdXNoKHtcbiAgICAgICAgICB0aW1lc3RhbXA6IGRheVswXSxcbiAgICAgICAgICB5ZWFyOiBkYXlbMV0sXG4gICAgICAgICAgbW9udGhJbmRleDogZGF5WzJdLFxuICAgICAgICAgIHZhbHVlOiBkYXlbM10sXG4gICAgICAgICAgaXNEYXlJbkN1cnJlbnRNb250aDogdGhpcy5pc0RheUluQ3VycmVudE1vbnRoKGRheSksXG4gICAgICAgICAgaXNEYXlPZlRvZGF5RGF0ZTogdGhpcy5pc0RheU9mVG9kYXlEYXRlKGRheSksXG4gICAgICAgICAgaXNEYXlPZlNlbGVjdGVkRGF0ZTogdGhpcy5pc0RheU9mU2VsZWN0ZWREYXRlKGRheSksXG4gICAgICAgICAgaXNEYXlEaXNhYmxlZDogdGhpcy5pc0RheURpc2FibGVkKGRheSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRheXMucHVzaChyb3dWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgc2V0Vmlld0RhdGVUaXRsZSgpOiB2b2lkIHtcbiAgICBjb25zdCB5ZWFyID0gdGhpcy52aWV3RGF0ZS5qWWVhcigpO1xuICAgIHN3aXRjaCAodGhpcy52aWV3TW9kZXNbdGhpcy5jdXJyZW50Vmlld01vZGVdKSB7XG4gICAgICBjYXNlICdkYXknOlxuICAgICAgICB0aGlzLnZpZXdEYXRlVGl0bGUgPSB0aGlzLnZpZXdEYXRlLmZvcm1hdCgnak1NTU0nKSArICcgJyArIHllYXIudG9TdHJpbmcoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb250aCc6XG4gICAgICAgIHRoaXMudmlld0RhdGVUaXRsZSA9IHllYXIudG9TdHJpbmcoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgdGhpcy52aWV3RGF0ZVRpdGxlID0gKHllYXIgLSA2KS50b1N0cmluZygpICsgJy0nICsgKHllYXIgKyA1KS50b1N0cmluZygpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBzZXRUaW1lKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkRGF0ZSkge1xuICAgICAgdGhpcy5ob3VyID0gdGhpcy5zZWxlY3RlZERhdGUuaG91cigpO1xuICAgICAgdGhpcy5taW51dGUgPSB0aGlzLnNlbGVjdGVkRGF0ZS5taW51dGUoKTtcbiAgICAgIHRoaXMuc2Vjb25kID0gdGhpcy5zZWxlY3RlZERhdGUuc2Vjb25kKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaG91ciA9IHRoaXMudG9kYXk/LmhvdXIoKSB8fCAwO1xuICAgIHRoaXMubWludXRlID0gdGhpcy50b2RheT8ubWludXRlKCkgfHwgMDtcbiAgICB0aGlzLnNlY29uZCA9IHRoaXMudG9kYXk/LnNlY29uZCgpIHx8IDA7XG4gIH1cblxuICBzZVRpbWVUZXh0KCk6IHZvaWQge1xuICAgIHRoaXMuc2V0SG91clRleHQoKTtcbiAgICB0aGlzLnNldE1pbnV0ZVRleHQoKTtcbiAgICB0aGlzLnNldFNlY29uZFRleHQoKTtcbiAgICB0aGlzLnNldEFtUG1UZXh0KCk7XG4gIH1cblxuICBzZXRIb3VyVGV4dCgpOiB2b2lkIHtcbiAgICBjb25zdCBob3VyID0gdGhpcy5ob3VyO1xuICAgIGlmICghdGhpcy5fdGltZU1lcmlkaWFuKSB7XG4gICAgICB0aGlzLmhvdXJUZXh0ID0gaG91ci50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChob3VyID09PSAwKSB7XG4gICAgICB0aGlzLmhvdXJUZXh0ID0gKDEyKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChob3VyID4gMTIpIHtcbiAgICAgIHRoaXMuaG91clRleHQgPSAoaG91ciAtIDEyKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaG91clRleHQgPSBob3VyLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgfVxuXG4gIHNldE1pbnV0ZVRleHQoKTogdm9pZCB7XG4gICAgdGhpcy5taW51dGVUZXh0ID0gdGhpcy5taW51dGUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG5cbiAgc2V0U2Vjb25kVGV4dCgpOiB2b2lkIHtcbiAgICB0aGlzLnNlY29uZFRleHQgPSB0aGlzLnNlY29uZC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIH1cblxuICBzZXRBbVBtVGV4dCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ob3VyID49IDEyKSB7XG4gICAgICB0aGlzLmFtUG1UZXh0ID0gJ1BNJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hbVBtVGV4dCA9ICdBTSc7XG4gIH1cblxuICBzZXRJbnB1dFZhbHVlKGRpc3BhdGNoRXZlbnQ6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9kYXRlVmFsdWUpIHtcbiAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBtb21lbnQoKHRoaXMuX2RhdGVWYWx1ZSBhcyBudW1iZXIpKS5mb3JtYXQodGhpcy5kYXRlRm9ybWF0KTtcbiAgICAgIGlmIChkaXNwYXRjaEV2ZW50KSB7XG4gICAgICAgIHRoaXMuaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxvY2tJbnB1dFZhbHVlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmlucHV0RXZlbnRJbnB1dExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKGZhbHNlKTtcbiAgICB9O1xuICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmlucHV0RXZlbnRJbnB1dExpc3RlbmVyKTtcbiAgfVxuXG4gIHNldFNob3dPbklucHV0Rm9jdXMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdkYXRhLWRhdGVwaWNrZXItaWQnLCB0aGlzLmlkKTtcbiAgICB0aGlzLmlucHV0RXZlbnRGb2N1c0xpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgdGhpcy5jYWxjSW5wdXRQb3NpdGlvbkFuZFNpemUoKTtcbiAgICAgIHRoaXMudWlJc1Zpc2libGUgPSB0cnVlO1xuICAgIH07XG4gICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaW5wdXRFdmVudEZvY3VzTGlzdGVuZXIpO1xuICB9XG5cbiAgc2tpcFZpZXdEYXRlKHNraXA6IG51bWJlciwgdHlwZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgIHRoaXMudmlld0RhdGUuYWRkKHNraXAsICdqWWVhcicpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMikge1xuICAgICAgdGhpcy52aWV3RGF0ZS5hZGQoc2tpcCwgJ2pNb250aCcpO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlKGZvcndhcmQ6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgbGV0IHNraXAgPSAxO1xuICAgIGlmICghZm9yd2FyZCkge1xuICAgICAgc2tpcCA9IHNraXAgKiAtMTtcbiAgICB9XG4gICAgc3dpdGNoICh0aGlzLnZpZXdNb2Rlc1t0aGlzLmN1cnJlbnRWaWV3TW9kZV0pIHtcbiAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgIHRoaXMuc2tpcFZpZXdEYXRlKHNraXAsIDIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgdGhpcy5za2lwVmlld0RhdGUoc2tpcCwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgIHRoaXMuc2tpcFZpZXdEYXRlKChza2lwICogMTIpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMub25DaGFuZ2VWaWV3RGF0ZSgpO1xuICB9XG5cbiAgbmV4dFZpZXdNb2RlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXdNb2Rlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudmlld01vZGVzLmxlbmd0aCA8PSAodGhpcy5jdXJyZW50Vmlld01vZGUgKyAxKSkge1xuICAgICAgdGhpcy5jdXJyZW50Vmlld01vZGUgPSAwO1xuICAgICAgdGhpcy5zZXRWaWV3RGF0ZVRpdGxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFZpZXdNb2RlKys7XG4gICAgdGhpcy5zZXRWaWV3RGF0ZVRpdGxlKCk7XG4gIH1cblxuICBzZWxlY3RUb2RheSgpOiB2b2lkIHtcbiAgICB0aGlzLnNldFRvZGF5KCk7XG4gICAgdGhpcy5wcmV2ZW50Q2xvc2UgPSB0cnVlO1xuICAgIHRoaXMuY2hhbmdlU2VsZWN0ZWREYXRlKHRoaXMudG9kYXkpO1xuICB9XG5cbiAgeWVhckNsaWNrKHllYXI6IFllYXJNb2RlbCk6IHZvaWQge1xuICAgIGlmICh5ZWFyLmlzWWVhckRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudmlld0RhdGUgPSBtb21lbnQoeWVhci50aW1lc3RhbXApO1xuICAgIGxldCB2aWV3TW9kZUluZGV4ID0gdGhpcy52aWV3TW9kZXMuaW5kZXhPZignbW9udGgnKTtcbiAgICBpZiAodmlld01vZGVJbmRleCA9PT0gLTEpIHtcbiAgICAgIHZpZXdNb2RlSW5kZXggPSB0aGlzLnZpZXdNb2Rlcy5pbmRleE9mKCdkYXknKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50Vmlld01vZGUgPSB2aWV3TW9kZUluZGV4O1xuICAgIHRoaXMub25DaGFuZ2VWaWV3RGF0ZSgpO1xuICB9XG5cbiAgbW9udGhDbGljayhtb250aDogTW9udGhNb2RlbCk6IHZvaWQge1xuICAgIGlmIChtb250aC5pc01vbnRoRGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy52aWV3RGF0ZSA9IG1vbWVudChtb250aC50aW1lc3RhbXApO1xuICAgIHRoaXMuY3VycmVudFZpZXdNb2RlID0gdGhpcy52aWV3TW9kZXMuaW5kZXhPZignZGF5Jyk7XG4gICAgdGhpcy5vbkNoYW5nZVZpZXdEYXRlKCk7XG4gIH1cblxuICBkYXlDbGljayhkYXk6IERheU1vZGVsKTogdm9pZCB7XG4gICAgaWYgKGRheS5pc0RheURpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2hhbmdlU2VsZWN0ZWREYXRlKG1vbWVudChkYXkudGltZXN0YW1wKSk7XG4gIH1cblxuICBpc1llYXJPZlRvZGF5RGF0ZSh5ZWFyOiBBcnJheTxudW1iZXI+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMudG9kYXkualllYXIoKSA9PT0geWVhclsxXVxuICAgICk7XG4gIH1cblxuICBpc1llYXJPZlNlbGVjdGVkRGF0ZSh5ZWFyOiBBcnJheTxudW1iZXI+KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkRGF0ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgeWVhclsxXSA9PT0gdGhpcy5zZWxlY3RlZERhdGUualllYXIoKVxuICAgICk7XG4gIH1cblxuICBpc1llYXJEaXNhYmxlZChtb250aDogQXJyYXk8bnVtYmVyPik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5pc0RhdGVJblJhbmdlKG1vbnRoWzBdLCB0cnVlLCBmYWxzZSk7XG4gIH1cblxuICBpc01vbnRoT2ZUb2RheShtb250aDogQXJyYXk8bnVtYmVyPik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnRvZGF5LmpZZWFyKCkgPT09IG1vbnRoWzFdICYmXG4gICAgICB0aGlzLnRvZGF5LmpNb250aCgpID09PSBtb250aFsyXVxuICAgICk7XG4gIH1cblxuICBpc01vbnRoT2ZTZWxlY3RlZERhdGUobW9udGg6IEFycmF5PG51bWJlcj4pOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWREYXRlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBtb250aFsxXSA9PT0gdGhpcy5zZWxlY3RlZERhdGUualllYXIoKSAmJlxuICAgICAgbW9udGhbMl0gPT09IHRoaXMuc2VsZWN0ZWREYXRlLmpNb250aCgpXG4gICAgKTtcbiAgfVxuXG4gIGlzTW9udGhEaXNhYmxlZChtb250aDogQXJyYXk8bnVtYmVyPik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5pc0RhdGVJblJhbmdlKG1vbnRoWzBdLCBmYWxzZSwgdHJ1ZSk7XG4gIH1cblxuICBpc0RheUluQ3VycmVudE1vbnRoKGRheTogQXJyYXk8bnVtYmVyPik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBkYXlbMV0gPT09IHRoaXMudmlld0RhdGUualllYXIoKSAmJlxuICAgICAgZGF5WzJdID09PSB0aGlzLnZpZXdEYXRlLmpNb250aCgpXG4gICAgKTtcbiAgfVxuXG4gIGlzRGF5T2ZUb2RheURhdGUoZGF5OiBBcnJheTxudW1iZXI+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIGRheVsxXSA9PT0gdGhpcy50b2RheS5qWWVhcigpICYmXG4gICAgICBkYXlbMl0gPT09IHRoaXMudG9kYXkuak1vbnRoKCkgJiZcbiAgICAgIGRheVszXSA9PT0gdGhpcy50b2RheS5qRGF0ZSgpXG4gICAgKTtcbiAgfVxuXG4gIGlzRGF5T2ZTZWxlY3RlZERhdGUoZGF5OiBBcnJheTxudW1iZXI+KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkRGF0ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgZGF5WzFdID09PSB0aGlzLnNlbGVjdGVkRGF0ZS5qWWVhcigpICYmXG4gICAgICBkYXlbMl0gPT09IHRoaXMuc2VsZWN0ZWREYXRlLmpNb250aCgpICYmXG4gICAgICBkYXlbM10gPT09IHRoaXMuc2VsZWN0ZWREYXRlLmpEYXRlKClcbiAgICApO1xuICB9XG5cbiAgaXNEYXlEaXNhYmxlZChkYXk6IEFycmF5PG51bWJlcj4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuaXNEYXRlSW5SYW5nZShkYXlbMF0sIGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICBpc0RhdGVJblJhbmdlKGRhdGU6IG51bWJlciwgaXNZZWFyOiBib29sZWFuLCBpc01vbnRoOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcmVzdWx0OiBBcnJheTxib29sZWFuPiA9IFtdO1xuICAgIGlmICh0aGlzLmRhdGVNaW4pIHtcbiAgICAgIGNvbnN0IG1pbiA9IG1vbWVudCh0aGlzLmRhdGVNaW4pO1xuICAgICAgaWYgKGlzWWVhcikge1xuICAgICAgICBtaW4uc3RhcnRPZignalllYXInKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc01vbnRoKSB7XG4gICAgICAgIG1pbi5zdGFydE9mKCdqTW9udGgnKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKG1pbi52YWx1ZU9mKCkgPD0gZGF0ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGVNYXgpIHtcbiAgICAgIGNvbnN0IG1heCA9IG1vbWVudCh0aGlzLmRhdGVNYXgpO1xuICAgICAgaWYgKGlzWWVhcikge1xuICAgICAgICBtYXguc3RhcnRPZignalllYXInKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc01vbnRoKSB7XG4gICAgICAgIG1heC5zdGFydE9mKCdqTW9udGgnKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKG1heC52YWx1ZU9mKCkgPj0gZGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiAhKHJlc3VsdC5pbmRleE9mKGZhbHNlKSAhPT0gLTEpO1xuICB9XG5cbiAgY2hhbmdlU2VsZWN0ZWREYXRlKGRhdGU6IG1vbWVudC5Nb21lbnQpOiB2b2lkIHtcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IG1vbWVudChkYXRlKTtcbiAgICB0aGlzLm9uQ2hhbmdlU2VsZWN0ZWREYXRlKCk7XG4gIH1cblxuICBvbkNoYW5nZVNlbGVjdGVkRGF0ZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fdGltZUVuYWJsZSkge1xuICAgICAgdGhpcy5zZWxlY3RlZERhdGUuaG91cih0aGlzLmhvdXIpO1xuICAgICAgdGhpcy5zZWxlY3RlZERhdGUubWludXRlKHRoaXMubWludXRlKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWREYXRlLnNlY29uZCh0aGlzLnNlY29uZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0VG9kYXkoKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWREYXRlLmhvdXIodGhpcy50b2RheS5ob3VyKCkpO1xuICAgICAgdGhpcy5zZWxlY3RlZERhdGUubWludXRlKHRoaXMudG9kYXkubWludXRlKCkpO1xuICAgICAgdGhpcy5zZWxlY3RlZERhdGUuc2Vjb25kKHRoaXMudG9kYXkuc2Vjb25kKCkpO1xuICAgIH1cbiAgICB0aGlzLl9kYXRlVmFsdWUgPSB0aGlzLnNlbGVjdGVkRGF0ZS52YWx1ZU9mKCk7XG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XG4gICAgaWYgKHRoaXMudWlIaWRlQWZ0ZXJTZWxlY3REYXRlICYmICF0aGlzLnByZXZlbnRDbG9zZSkge1xuICAgICAgdGhpcy51aUlzVmlzaWJsZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZXZlbnRDbG9zZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnNldFZpZXdEYXRlKCk7XG4gICAgdGhpcy5kYXRlT25TZWxlY3QoXG4gICAgICBTdHJpbmcodGhpcy5zZWxlY3RlZERhdGUuZm9ybWF0KHRoaXMuZGF0ZUZvcm1hdCkpLFxuICAgICAgU3RyaW5nKHRoaXMuc2VsZWN0ZWREYXRlLmZvcm1hdCh0aGlzLmRhdGVHcmVnb3JpYW5Gb3JtYXQpKSxcbiAgICAgIE51bWJlcih0aGlzLnNlbGVjdGVkRGF0ZS52YWx1ZU9mKCkpXG4gICAgKTtcbiAgfVxuXG4gIGluY3JlYXNlSG91cigpOiB2b2lkIHtcbiAgICBpZiAoKHRoaXMuaG91ciArIDEpID09PSAyNCkge1xuICAgICAgdGhpcy5ob3VyID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ob3VyKys7XG4gICAgfVxuICAgIHRoaXMub25UaW1lQ2hhbmdlKCk7XG4gIH1cblxuICBkZWNyZWFzZUhvdXIoKTogdm9pZCB7XG4gICAgaWYgKCh0aGlzLmhvdXIgLSAxKSA9PT0gLTEpIHtcbiAgICAgIHRoaXMuaG91ciA9IDIzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhvdXItLTtcbiAgICB9XG4gICAgdGhpcy5vblRpbWVDaGFuZ2UoKTtcbiAgfVxuXG4gIGluY3JlYXNlTWludXRlKCk6IHZvaWQge1xuICAgIGlmICgodGhpcy5taW51dGUgKyAxKSA9PT0gNjApIHtcbiAgICAgIHRoaXMubWludXRlID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5taW51dGUrKztcbiAgICB9XG4gICAgdGhpcy5vblRpbWVDaGFuZ2UoKTtcbiAgfVxuXG4gIGRlY3JlYXNlTWludXRlKCk6IHZvaWQge1xuICAgIGlmICgodGhpcy5taW51dGUgLSAxKSA9PT0gLTEpIHtcbiAgICAgIHRoaXMubWludXRlID0gNTk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWludXRlLS07XG4gICAgfVxuICAgIHRoaXMub25UaW1lQ2hhbmdlKCk7XG4gIH1cblxuICBpbmNyZWFzZVNlY29uZCgpOiB2b2lkIHtcbiAgICBpZiAoKHRoaXMuc2Vjb25kICsgMSkgPT09IDYwKSB7XG4gICAgICB0aGlzLnNlY29uZCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2Vjb25kKys7XG4gICAgfVxuICAgIHRoaXMub25UaW1lQ2hhbmdlKCk7XG4gIH1cblxuICBkZWNyZWFzZVNlY29uZCgpOiB2b2lkIHtcbiAgICBpZiAoKHRoaXMuc2Vjb25kIC0gMSkgPT09IC0xKSB7XG4gICAgICB0aGlzLnNlY29uZCA9IDU5O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlY29uZC0tO1xuICAgIH1cbiAgICB0aGlzLm9uVGltZUNoYW5nZSgpO1xuICB9XG5cbiAgdG9nZ2xlQW1QbSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ob3VyIDwgMTIpIHtcbiAgICAgIHRoaXMuaG91ciArPSAxMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ob3VyIC09IDEyO1xuICAgIH1cbiAgICB0aGlzLm9uVGltZUNoYW5nZSgpO1xuICB9XG5cbiAgb25UaW1lQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMucHJldmVudENsb3NlID0gdHJ1ZTtcbiAgICB0aGlzLnNlVGltZVRleHQoKTtcbiAgICB0aGlzLmNoYW5nZVNlbGVjdGVkRGF0ZSh0aGlzLnNlbGVjdGVkRGF0ZSk7XG4gIH1cblxuICBzZXRJbmNyZWFzZUhvdXJJbnRlcnZhbCgpOiB2b2lkIHtcbiAgICB0aGlzLmluY3JlYXNlSG91clRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuaW5jcmVhc2VIb3VySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5jcmVhc2VIb3VyKCk7XG4gICAgICB9LCB0aGlzLmZhc3RUaW1lQ2hhbmdlSW50ZXJ2YWwpO1xuICAgIH0sIHRoaXMuZmFzdFRpbWVDaGFuZ2VUaW1lT3V0KTtcbiAgfVxuXG4gIGNsZWFySW5jcmVhc2VIb3VySW50ZXJ2YWwoKTogdm9pZCB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaW5jcmVhc2VIb3VyVGltZW91dCk7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmluY3JlYXNlSG91ckludGVydmFsKTtcbiAgfVxuXG4gIHNldERlY3JlYXNlSG91ckludGVydmFsKCk6IHZvaWQge1xuICAgIHRoaXMuZGVjcmVhc2VIb3VyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kZWNyZWFzZUhvdXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdGhpcy5kZWNyZWFzZUhvdXIoKTtcbiAgICAgIH0sIHRoaXMuZmFzdFRpbWVDaGFuZ2VJbnRlcnZhbCk7XG4gICAgfSwgdGhpcy5mYXN0VGltZUNoYW5nZVRpbWVPdXQpO1xuICB9XG5cbiAgY2xlYXJEZWNyZWFzZUhvdXJJbnRlcnZhbCgpOiB2b2lkIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5kZWNyZWFzZUhvdXJUaW1lb3V0KTtcbiAgICBjbGVhckludGVydmFsKHRoaXMuZGVjcmVhc2VIb3VySW50ZXJ2YWwpO1xuICB9XG5cbiAgc2V0SW5jcmVhc2VNaW51dGVJbnRlcnZhbCgpOiB2b2lkIHtcbiAgICB0aGlzLmluY3JlYXNlTWludXRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5pbmNyZWFzZU1pbnV0ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0aGlzLmluY3JlYXNlTWludXRlKCk7XG4gICAgICB9LCB0aGlzLmZhc3RUaW1lQ2hhbmdlSW50ZXJ2YWwpO1xuICAgIH0sIHRoaXMuZmFzdFRpbWVDaGFuZ2VUaW1lT3V0KTtcbiAgfVxuXG4gIGNsZWFySW5jcmVhc2VNaW51dGVJbnRlcnZhbCgpOiB2b2lkIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5pbmNyZWFzZU1pbnV0ZVRpbWVvdXQpO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbmNyZWFzZU1pbnV0ZUludGVydmFsKTtcbiAgfVxuXG4gIHNldERlY3JlYXNlTWludXRlSW50ZXJ2YWwoKTogdm9pZCB7XG4gICAgdGhpcy5kZWNyZWFzZU1pbnV0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZGVjcmVhc2VNaW51dGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdGhpcy5kZWNyZWFzZU1pbnV0ZSgpO1xuICAgICAgfSwgdGhpcy5mYXN0VGltZUNoYW5nZUludGVydmFsKTtcbiAgICB9LCB0aGlzLmZhc3RUaW1lQ2hhbmdlVGltZU91dCk7XG4gIH1cblxuICBjbGVhckRlY3JlYXNlTWludXRlSW50ZXJ2YWwoKTogdm9pZCB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVjcmVhc2VNaW51dGVUaW1lb3V0KTtcbiAgICBjbGVhckludGVydmFsKHRoaXMuZGVjcmVhc2VNaW51dGVJbnRlcnZhbCk7XG4gIH1cblxuICBzZXRJbmNyZWFzZVNlY29uZEludGVydmFsKCk6IHZvaWQge1xuICAgIHRoaXMuaW5jcmVhc2VTZWNvbmRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmluY3JlYXNlU2Vjb25kSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5jcmVhc2VTZWNvbmQoKTtcbiAgICAgIH0sIHRoaXMuZmFzdFRpbWVDaGFuZ2VJbnRlcnZhbCk7XG4gICAgfSwgdGhpcy5mYXN0VGltZUNoYW5nZVRpbWVPdXQpO1xuICB9XG5cbiAgY2xlYXJJbmNyZWFzZVNlY29uZEludGVydmFsKCk6IHZvaWQge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmluY3JlYXNlU2Vjb25kVGltZW91dCk7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmluY3JlYXNlU2Vjb25kSW50ZXJ2YWwpO1xuICB9XG5cbiAgc2V0RGVjcmVhc2VTZWNvbmRJbnRlcnZhbCgpOiB2b2lkIHtcbiAgICB0aGlzLmRlY3JlYXNlU2Vjb25kVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kZWNyZWFzZVNlY29uZEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0aGlzLmRlY3JlYXNlU2Vjb25kKCk7XG4gICAgICB9LCB0aGlzLmZhc3RUaW1lQ2hhbmdlSW50ZXJ2YWwpO1xuICAgIH0sIHRoaXMuZmFzdFRpbWVDaGFuZ2VUaW1lT3V0KTtcbiAgfVxuXG4gIGNsZWFyRGVjcmVhc2VTZWNvbmRJbnRlcnZhbCgpOiB2b2lkIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5kZWNyZWFzZVNlY29uZFRpbWVvdXQpO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5kZWNyZWFzZVNlY29uZEludGVydmFsKTtcbiAgfVxuXG4gIHNldENvbnRhaW5lcklubGluZVN0eWxlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy51aUF1dG9Qb3NpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IHtcbiAgICAgIHdpZHRoOiAnMjAwcHgnXG4gICAgfTtcbiAgICBjb25zdCBjb250YWluZXJQb3NpdGlvbiA9IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiBTdHJpbmcodGhpcy51aVBvc2l0aW9uT2Zmc2V0WzBdKSArICdweCcsXG4gICAgICBsZWZ0OiBTdHJpbmcodGhpcy51aVBvc2l0aW9uT2Zmc2V0WzFdKSArICdweCcsXG4gICAgfTtcbiAgICBpZiAodGhpcy5pbnB1dCAmJiB0aGlzLmlucHV0UG9zaXRpb24pIHtcbiAgICAgIGNvbnRhaW5lcldpZHRoLndpZHRoID0gU3RyaW5nKHRoaXMuaW5wdXRTaXplWzBdKSArICdweCc7XG4gICAgICBjb250YWluZXJQb3NpdGlvbi50b3AgPSBTdHJpbmcodGhpcy5pbnB1dFBvc2l0aW9uWzBdICsgdGhpcy5pbnB1dFNpemVbMV0gKyB0aGlzLnVpUG9zaXRpb25PZmZzZXRbMF0pICsgJ3B4JztcbiAgICAgIGNvbnRhaW5lclBvc2l0aW9uLmxlZnQgPSBTdHJpbmcodGhpcy5pbnB1dFBvc2l0aW9uWzFdICsgdGhpcy51aVBvc2l0aW9uT2Zmc2V0WzFdKSArICdweCc7XG4gICAgfVxuICAgIGlmICh0aGlzLnVpQ29udGFpbmVyV2lkdGgpIHtcbiAgICAgIGNvbnRhaW5lcldpZHRoLndpZHRoID0gdGhpcy51aUNvbnRhaW5lcldpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lcklubGluZVN0eWxlID0gT2JqZWN0LmFzc2lnbihjb250YWluZXJXaWR0aCwgY29udGFpbmVyUG9zaXRpb24pO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignd2luZG93OnJlc2l6ZScpXG4gIGNhbGNJbnB1dFBvc2l0aW9uQW5kU2l6ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbnB1dFBvc2l0aW9uID0gWzAsIDBdO1xuICAgIGxldCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IHRoaXMuaW5wdXQ7XG4gICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuaW5wdXRQb3NpdGlvblswXSArPSBlbGVtZW50Lm9mZnNldFRvcCB8fCAwO1xuICAgICAgdGhpcy5pbnB1dFBvc2l0aW9uWzFdICs9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwO1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50IGFzIEhUTUxFbGVtZW50O1xuICAgIH1cbiAgICAvL1xuICAgIHRoaXMuaW5wdXRTaXplID0gWzAsIDBdO1xuICAgIHRoaXMuaW5wdXRTaXplWzBdID0gdGhpcy5pbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICB0aGlzLmlucHV0U2l6ZVsxXSA9IHRoaXMuaW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIC8vXG4gICAgdGhpcy5zZXRDb250YWluZXJJbmxpbmVTdHlsZSgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snKVxuICBvbkluc2lkZUNsaWNrKCk6IHZvaWQge1xuICAgIHRoaXMud2FzSW5zaWRlQ2xpY2sgPSB0cnVlO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6Y2xpY2snLCBbJyRldmVudCddKVxuICBvbk91dHNpZGVDbGljayhldmVudDogYW55KTogdm9pZCB7XG4gICAgY29uc3Qgd2FzSW5zaWRlQ2xpY2sgPSB0aGlzLndhc0luc2lkZUNsaWNrO1xuICAgIHRoaXMud2FzSW5zaWRlQ2xpY2sgPSBmYWxzZTtcbiAgICBpZiAod2FzSW5zaWRlQ2xpY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXRoaXMudWlIaWRlT25PdXRzaWRlQ2xpY2sgfHxcbiAgICAgICh0aGlzLmlucHV0ICYmIChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRhdGVwaWNrZXItaWQnKSA9PT0gdGhpcy5pZCkpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudWlJc1Zpc2libGUgPSBmYWxzZTtcbiAgfVxuXG59XG4iXX0=